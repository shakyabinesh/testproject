if(!function e(t,a,r){function i(n,s){if(!a[n]){if(!t[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(o)return o(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[n]={exports:{}};t[n][0].call(c.exports,function(e){var a=t[n][1][e];return i(a?a:e)},c,c.exports,e,t,a,r)}return a[n].exports}for(var o="function"==typeof require&&require,n=0;n<r.length;n++)i(r[n]);return i}({1:[function(e,t,a){"use strict";function r(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){var t=e;o.get(this)||i.initialize(this,t)}else{var a=e;"update"===a?i.update(this):"destroy"===a&&i.destroy(this)}})}}var i=e("../main"),o=e("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],r);else{var n=window.jQuery?window.jQuery:window.$;"undefined"!=typeof n&&r(n)}t.exports=r},{"../main":7,"../plugin/instances":18}],2:[function(e,t,a){"use strict";function r(e,t){var a=e.className.split(" ");a.indexOf(t)<0&&a.push(t),e.className=a.join(" ")}function i(e,t){var a=e.className.split(" "),r=a.indexOf(t);r>=0&&a.splice(r,1),e.className=a.join(" ")}a.add=function(e,t){e.classList?e.classList.add(t):r(e,t)},a.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},a.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,a){"use strict";function r(e,t){return window.getComputedStyle(e)[t]}function i(e,t,a){return"number"==typeof a&&(a=a.toString()+"px"),e.style[t]=a,e}function o(e,t){for(var a in t){var r=t[a];"number"==typeof r&&(r=r.toString()+"px"),e.style[a]=r}return e}var n={};n.e=function(e,t){var a=document.createElement(e);return a.className=t,a},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,a){return"object"==typeof t?o(e,t):"undefined"==typeof a?r(e,t):i(e,t,a)},n.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return n.matches(e,t)})},t.exports=n},{}],4:[function(e,t,a){"use strict";var r=function(e){this.element=e,this.events={}};r.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},r.prototype.unbind=function(e,t){var a="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(r){return!(!a||r===t)||(this.element.removeEventListener(e,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new r(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,a){this.eventElement(e).bind(t,a)},i.prototype.unbind=function(e,t,a){this.eventElement(e).unbind(t,a)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,a){var r=this.eventElement(e),i=function(e){r.unbind(t,i),a(e)};r.bind(t,i)},t.exports=i},{}],5:[function(e,t,a){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,a){"use strict";var r=e("./class"),i=e("./dom"),o=a.toInt=function(e){return parseInt(e,10)||0},n=a.clone=function(e){if(null===e)return null;if(e.constructor===Array)return e.map(n);if("object"==typeof e){var t={};for(var a in e)t[a]=n(e[a]);return t}return e};a.extend=function(e,t){var a=n(e);for(var r in t)a[r]=n(t[r]);return a},a.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},a.removePsClasses=function(e){for(var t=r.list(e),a=0;a<t.length;a++){var i=t[a];0===i.indexOf("ps-")&&r.remove(e,i)}},a.outerWidth=function(e){return o(i.css(e,"width"))+o(i.css(e,"paddingLeft"))+o(i.css(e,"paddingRight"))+o(i.css(e,"borderLeftWidth"))+o(i.css(e,"borderRightWidth"))},a.startScrolling=function(e,t){r.add(e,"ps-in-scrolling"),"undefined"!=typeof t?r.add(e,"ps-"+t):(r.add(e,"ps-x"),r.add(e,"ps-y"))},a.stopScrolling=function(e,t){r.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?r.remove(e,"ps-"+t):(r.remove(e,"ps-x"),r.remove(e,"ps-y"))},a.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,a){"use strict";var r=e("./plugin/destroy"),i=e("./plugin/initialize"),o=e("./plugin/update");t.exports={initialize:i,update:o,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,a){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,a){"use strict";var r=e("../lib/helper"),i=e("../lib/dom"),o=e("./instances");t.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),i.remove(t.scrollbarX),i.remove(t.scrollbarY),i.remove(t.scrollbarXRail),i.remove(t.scrollbarYRail),r.removePsClasses(e),o.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,a){"use strict";function r(e,t){function a(e){return e.getBoundingClientRect()}var r=function(e){e.stopPropagation()};t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var o=i.toInt(t.scrollbarYHeight/2),l=t.railYRatio*(r.pageY-window.pageYOffset-a(t.scrollbarYRail).top-o),d=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),c=l/d;0>c?c=0:c>1&&(c=1),s(e,"top",(t.contentHeight-t.containerHeight)*c),n(e),r.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var o=i.toInt(t.scrollbarXWidth/2),l=t.railXRatio*(r.pageX-window.pageXOffset-a(t.scrollbarXRail).left-o),d=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),c=l/d;0>c?c=0:c>1&&(c=1),s(e,"left",(t.contentWidth-t.containerWidth)*c-t.negativeScrollAdjustment),n(e),r.stopPropagation()})}var i=e("../../lib/helper"),o=e("../instances"),n=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=o.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,a){"use strict";function r(e,t){function a(a){var i=r+a*t.railXRatio,n=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);0>i?t.scrollbarXLeft=0:i>n?t.scrollbarXLeft=n:t.scrollbarXLeft=i;var s=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;d(e,"left",s)}var r=null,i=null,s=function(t){a(t.pageX-i),l(e),t.stopPropagation(),t.preventDefault()},c=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(a){i=a.pageX,r=o.toInt(n.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",c),a.stopPropagation(),a.preventDefault()})}function i(e,t){function a(a){var i=r+a*t.railYRatio,n=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);0>i?t.scrollbarYTop=0:i>n?t.scrollbarYTop=n:t.scrollbarYTop=i;var s=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));d(e,"top",s)}var r=null,i=null,s=function(t){a(t.pageY-i),l(e),t.stopPropagation(),t.preventDefault()},c=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(a){i=a.pageY,r=o.toInt(n.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",c),a.stopPropagation(),a.preventDefault()})}var o=e("../../lib/helper"),n=e("../../lib/dom"),s=e("../instances"),l=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=s.get(e);r(e,t),i(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,a){"use strict";function r(e,t){function a(a,r){var i=e.scrollTop;if(0===a){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&0>r)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&0>a||o>=t.contentWidth-t.containerWidth&&a>0)return!t.settings.wheelPropagation}return!0}var r=!1;t.event.bind(e,"mouseenter",function(){r=!0}),t.event.bind(e,"mouseleave",function(){r=!1});var n=!1;t.event.bind(t.ownerDocument,"keydown",function(d){if(!d.isDefaultPrevented||!d.isDefaultPrevented()){var c=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(r||c){var u=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(u){if("IFRAME"===u.tagName)u=u.contentDocument.activeElement;else for(;u.shadowRoot;)u=u.shadowRoot.activeElement;if(i.isEditable(u))return}var m=0,p=0;switch(d.which){case 37:m=-30;break;case 38:p=30;break;case 39:m=30;break;case 40:p=-30;break;case 33:p=90;break;case 32:p=d.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=d.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=d.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+m),s(e),n=a(m,p),n&&d.preventDefault()}}})}var i=e("../../lib/helper"),o=e("../../lib/dom"),n=e("../instances"),s=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=n.get(e);r(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,a){"use strict";function r(e,t){function a(a,r){var i=e.scrollTop;if(0===a){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&0>r)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&0>a||o>=t.contentWidth-t.containerWidth&&a>0)return!t.settings.wheelPropagation}return!0}function r(e){var t=e.deltaX,a=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof a||(t=-1*e.wheelDeltaX/6,a=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,a*=10),t!==t&&a!==a&&(t=0,a=e.wheelDelta),[t,a]}function i(t,a){var r=e.querySelector("textarea:hover, .ps-child:hover");if(r){if("TEXTAREA"!==r.tagName&&!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&a>0||r.scrollTop===i&&0>a))return!0;var o=r.scrollLeft-r.clientWidth;if(o>0&&!(0===r.scrollLeft&&0>t||r.scrollLeft===o&&t>0))return!0}return!1}function s(s){var d=r(s),c=d[0],u=d[1];i(c,u)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(u?n(e,"top",e.scrollTop-u*t.settings.wheelSpeed):n(e,"top",e.scrollTop+c*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(c?n(e,"left",e.scrollLeft+c*t.settings.wheelSpeed):n(e,"left",e.scrollLeft-u*t.settings.wheelSpeed),l=!0):(n(e,"top",e.scrollTop-u*t.settings.wheelSpeed),n(e,"left",e.scrollLeft+c*t.settings.wheelSpeed)),o(e),l=l||a(c,u),l&&(s.stopPropagation(),s.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",s):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var i=e("../instances"),o=e("../update-geometry"),n=e("../update-scroll");t.exports=function(e){var t=i.get(e);r(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,a){"use strict";function r(e,t){t.event.bind(e,"scroll",function(){o(e)})}var i=e("../instances"),o=e("../update-geometry");t.exports=function(e){var t=i.get(e);r(e,t)}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,a){"use strict";function r(e,t){function a(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function r(){d||(d=setInterval(function(){return o.get(e)?(s(e,"top",e.scrollTop+c.top),s(e,"left",e.scrollLeft+c.left),void n(e)):void clearInterval(d)},50))}function l(){d&&(clearInterval(d),d=null),i.stopScrolling(e)}var d=null,c={top:0,left:0},u=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(a())?u=!0:(u=!1,l())}),t.event.bind(window,"mouseup",function(){u&&(u=!1,l())}),t.event.bind(window,"mousemove",function(t){if(u){var a={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};a.x<o.left+3?(c.left=-5,i.startScrolling(e,"x")):a.x>o.right-3?(c.left=5,i.startScrolling(e,"x")):c.left=0,a.y<o.top+3?(o.top+3-a.y<5?c.top=-5:c.top=-20,i.startScrolling(e,"y")):a.y>o.bottom-3?(a.y-o.bottom+3<5?c.top=5:c.top=20,i.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?l():r()}})}var i=e("../../lib/helper"),o=e("../instances"),n=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=o.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,a){"use strict";function r(e,t,a,r){function i(a,r){var i=e.scrollTop,o=e.scrollLeft,n=Math.abs(a),s=Math.abs(r);if(s>n){if(0>r&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return!t.settings.swipePropagation}else if(n>s&&(0>a&&o===t.contentWidth-t.containerWidth||a>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,a){s(e,"top",e.scrollTop-a),s(e,"left",e.scrollLeft-t),n(e)}function d(){_=!0}function c(){_=!1}function u(e){return e.targetTouches?e.targetTouches[0]:e}function m(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(m(e)){w=!0;var t=u(e);y.pageX=t.pageX,y.pageY=t.pageY,g=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function f(e){if(!w&&t.settings.swipePropagation&&p(e),!_&&w&&m(e)){var a=u(e),r={pageX:a.pageX,pageY:a.pageY},o=r.pageX-y.pageX,n=r.pageY-y.pageY;l(o,n),y=r;var s=(new Date).getTime(),d=s-g;d>0&&(v.x=o/d,v.y=n/d,g=s),i(o,n)&&(e.stopPropagation(),e.preventDefault())}}function h(){!_&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return o.get(e)?Math.abs(v.x)<.01&&Math.abs(v.y)<.01?void clearInterval(b):(l(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(b)},10))}var y={},g=0,v={},b=null,_=!1,w=!1;a&&(t.event.bind(window,"touchstart",d),t.event.bind(window,"touchend",c),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",h)),r&&(window.PointerEvent?(t.event.bind(window,"pointerdown",d),t.event.bind(window,"pointerup",c),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",d),t.event.bind(window,"MSPointerUp",c),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",h)))}var i=e("../../lib/helper"),o=e("../instances"),n=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){if(i.env.supportsTouch||i.env.supportsIePointer){var t=o.get(e);r(e,t,i.env.supportsTouch,i.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,a){"use strict";var r=e("../lib/helper"),i=e("../lib/class"),o=e("./instances"),n=e("./update-geometry"),s={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},i.add(e,"ps-container");var a=o.add(e);a.settings=r.extend(a.settings,t),i.add(e,"ps-theme-"+a.settings.theme),a.settings.handlers.forEach(function(t){s[t](e)}),l(e),n(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,a){"use strict";function r(e){function t(){l.add(e,"ps-focus")}function a(){l.remove(e,"ps-focus")}var r=this;r.settings=s.clone(d),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===c.css(e,"direction"),r.isNegativeScroll=function(){var t=e.scrollLeft,a=null;return e.scrollLeft=-1,a=e.scrollLeft<0,e.scrollLeft=t,a}(),r.negativeScrollAdjustment=r.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.event=new u,r.ownerDocument=e.ownerDocument||document,r.scrollbarXRail=c.appendTo(c.e("div","ps-scrollbar-x-rail"),e),r.scrollbarX=c.appendTo(c.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",t),r.event.bind(r.scrollbarX,"blur",a),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(c.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(c.css(r.scrollbarXRail,"top")),r.railBorderXWidth=s.toInt(c.css(r.scrollbarXRail,"borderLeftWidth"))+s.toInt(c.css(r.scrollbarXRail,"borderRightWidth")),c.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=s.toInt(c.css(r.scrollbarXRail,"marginLeft"))+s.toInt(c.css(r.scrollbarXRail,"marginRight")),c.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=c.appendTo(c.e("div","ps-scrollbar-y-rail"),e),r.scrollbarY=c.appendTo(c.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",t),r.event.bind(r.scrollbarY,"blur",a),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(c.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(c.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(c.css(r.scrollbarYRail,"borderTopWidth"))+s.toInt(c.css(r.scrollbarYRail,"borderBottomWidth")),c.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=s.toInt(c.css(r.scrollbarYRail,"marginTop"))+s.toInt(c.css(r.scrollbarYRail,"marginBottom")),c.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function i(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function n(e){e.removeAttribute("data-ps-id")}var s=e("../lib/helper"),l=e("../lib/class"),d=e("./default-setting"),c=e("../lib/dom"),u=e("../lib/event-manager"),m=e("../lib/guid"),p={};a.add=function(e){var t=m();return o(e,t),p[t]=new r(e),p[t]},a.remove=function(e){delete p[i(e)],n(e)},a.get=function(e){return p[i(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,a){"use strict";function r(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var a={width:t.railXWidth};t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:a.left=e.scrollLeft,t.isScrollbarXUsingBottom?a.bottom=t.scrollbarXBottom-e.scrollTop:a.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,a);var r={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,r),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=e("../lib/helper"),n=e("../lib/class"),s=e("../lib/dom"),l=e("./instances"),d=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var a;e.contains(t.scrollbarXRail)||(a=s.queryChildren(e,".ps-scrollbar-x-rail"),a.length>0&&a.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(a=s.queryChildren(e,".ps-scrollbar-y-rail"),a.length>0&&a.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=r(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=r(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),t.scrollbarXActive?n.add(e,"ps-active-x"):(n.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,d(e,"left",0)),t.scrollbarYActive?n.add(e,"ps-active-y"):(n.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,d(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,a){"use strict";var r,i,o=e("./instances"),n=document.createEvent("Event"),s=document.createEvent("Event"),l=document.createEvent("Event"),d=document.createEvent("Event"),c=document.createEvent("Event"),u=document.createEvent("Event"),m=document.createEvent("Event"),p=document.createEvent("Event"),f=document.createEvent("Event"),h=document.createEvent("Event");n.initEvent("ps-scroll-up",!0,!0),s.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),d.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),u.initEvent("ps-scroll-x",!0,!0),m.initEvent("ps-x-reach-start",!0,!0),p.initEvent("ps-x-reach-end",!0,!0),f.initEvent("ps-y-reach-start",!0,!0),h.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,a){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof a)throw"You must provide a value to the update-scroll function";"top"===t&&0>=a&&(e.scrollTop=a=0,e.dispatchEvent(f)),"left"===t&&0>=a&&(e.scrollLeft=a=0,e.dispatchEvent(m));var y=o.get(e);"top"===t&&a>=y.contentHeight-y.containerHeight&&(a=y.contentHeight-y.containerHeight,a-e.scrollTop<=1?a=e.scrollTop:e.scrollTop=a,e.dispatchEvent(h)),"left"===t&&a>=y.contentWidth-y.containerWidth&&(a=y.contentWidth-y.containerWidth,a-e.scrollLeft<=1?a=e.scrollLeft:e.scrollLeft=a,e.dispatchEvent(p)),r||(r=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&r>a&&e.dispatchEvent(n),"top"===t&&a>r&&e.dispatchEvent(s),"left"===t&&i>a&&e.dispatchEvent(l),"left"===t&&a>i&&e.dispatchEvent(d),"top"===t&&(e.scrollTop=r=a,e.dispatchEvent(c)),"left"===t&&(e.scrollLeft=i=a,e.dispatchEvent(u))}},{"./instances":18}],21:[function(e,t,a){"use strict";var r=e("../lib/helper"),i=e("../lib/dom"),o=e("./instances"),n=e("./update-geometry"),s=e("./update-scroll");t.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.css(t.scrollbarXRail,"display","block"),i.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=r.toInt(i.css(t.scrollbarXRail,"marginLeft"))+r.toInt(i.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=r.toInt(i.css(t.scrollbarYRail,"marginTop"))+r.toInt(i.css(t.scrollbarYRail,"marginBottom")),i.css(t.scrollbarXRail,"display","none"),i.css(t.scrollbarYRail,"display","none"),n(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),i.css(t.scrollbarXRail,"display",""),i.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)var audioContext=new AudioContext,audiosource=audioContext.createBufferSource();else audiosource=null;var tpLayerTimelinesRev=new function(){function checkAvailableAutoTimes(){var e=jQuery(".mastertimer-timeline-selector-row.selected").length;jQuery(".autotiming-action").addClass("notclickable"),e>1?jQuery(".autotiming-action").removeClass("notclickable"):1==e&&(jQuery(".autotiming-action-3").removeClass("notclickable"),jQuery(".autotiming-action-4").removeClass("notclickable"),jQuery(".autotiming-action-5").removeClass("notclickable"),jQuery(".autotiming-action-6").removeClass("notclickable"))}function addIconFunction(){jQuery("#tp-addiconbutton, .addbutton-icon").click(function(){jQuery("#dialog_insert_icon").dialog({width:491,height:500,dialogClass:"tpdialogs",resize:function(){var e=jQuery("#dialog_insert_icon");e.css({width:e.parent().width()-30,height:e.parent().height()-60})},modal:!0,create:function(e,t){var a=jQuery(e.target),r=document.styleSheets,i=jQuery("#dialog_insert_icon");i.parent().css({padding:"0px",border:"none",borderRadius:"0px"}),i.parent().find(".ui-dialog-titlebar.ui-widget-header.ui-corner-all.ui-helper-clearfix.ui-draggable-handle").addClass("tp-slider-new-dialog-title"),r&&jQuery.each(r,function(e,t){var r=!1,i="";try{null!==t.cssRules&void 0!=t.cssRules&&jQuery.each(t.cssRules,function(e,t){t&&null!==t&&"null"!==t&&void 0!=t.selectorText&&jQuery.each(rs_icon_sets,function(e,a){if(t.selectorText.split(a).length>1&&t.cssText.split("content").length>1){var o=t.selectorText.split("::before")[0].split(":before")[0];void 0!=o&&(o=o.split(".")[1],void 0!=o&&(0==r&&(r=!0,i='<ul class="tp-icon-preview-list lastaddediconset">'),i=i+'<li><i class="'+o+'"></i></li>'))}})})}catch(e){}if(r){i+="</ul>",a.append(i);var o=a.find(".lastaddediconset").find("li").first().find("i");a.find(".lastaddediconset").prepend("<h3>"+o.css("fontFamily")+"</h3>").removeClass("lastaddediconset")}}),a.on("click","li",function(){jQuery("#dialog_addbutton").length>0&&"none"!==jQuery("#dialog_addbutton").closest(".tpdialogs").css("display")?jQuery(".addbutton-icon:visible").length>0?(jQuery(".addbutton-icon").html(jQuery(this).html()),jQuery("#dialog_insert_icon").dialog("close"),setExampleButtons()):(jQuery(".lasteditedlayertext").length>0?jQuery(".lasteditedlayertext").val(jQuery(".lasteditedlayertext").val()+jQuery(this).html()).blur().focus():jQuery("#layer_text").val(jQuery("#layer_text").val()+jQuery(this).html()).blur().focus(),jQuery("#dialog_insert_icon").dialog("close")):(jQuery(".lasteditedlayertext").length>0?jQuery(".lasteditedlayertext").val(jQuery(".lasteditedlayertext").val()+jQuery(this).html()).blur().focus():jQuery(".layer_text").val(jQuery("#layer_text").val()+jQuery(this).html()).blur().focus(),jQuery("#dialog_insert_icon").dialog("close")),u.updateLayerFromFields()})}})})}function reBlurFocus(e,t,a){jQuery("#rs-animation-tab-button").hasClass("selected")||jQuery("#rs-loopanimation-tab-button").hasClass("selected")||(t=Number(t)+e,t=Math.round(100*t)/100,a.val(t),jQuery(":focus").blur(),a.focus())}function basicClicksAndHovers(){jQuery(".rs-staticcustomstylechange").change(function(){t.rebuildLayerIdle(jQuery(".slide_layer.layer_selected"))}),jQuery(".rs-layer-settings-tabs li").click(function(){var e=jQuery(this);"#rs-animation-tab-button"!=e.attr("id")&&0==e.closest("#rs-animation-tab-button").length&&"#rs-loopanimation-tab-button"!=e.attr("id")&&0==e.closest("#rs-loopanimation-tab-button").length?(t.stopAllLayerAnimation(),setTimeout(function(){u.removeCurrentLayerRotatable(),u.makeCurrentLayerRotatable(),jQuery("#hide_layer_content_editor").click()},19)):jQuery(this).hasClass("selected")||(t.stopAllLayerAnimation(),"#rs-animation-tab-button"==e.attr("id")||0!=e.closest("#rs-animation-tab-button").length?(t.animateCurrentSelectedLayer(3),u.removeCurrentLayerRotatable(),jQuery("#hide_layer_content_editor").click()):(t.callCaptionLoops(),u.removeCurrentLayerRotatable(),jQuery("#hide_layer_content_editor").click()))}),jQuery("#divLayers").click(function(){t.stopAllLayerAnimation(),u.removeCurrentLayerRotatable(),setTimeout(function(){t.checkAnimationTab()&&t.animateCurrentSelectedLayer(4),t.checkLoopTab()&&t.callCaptionLoops()},19)}),jQuery("#layeranimation-playpause").click(function(){var e=jQuery(this);e.hasClass("inpause")?(e.removeClass("inpause"),t.checkAnimationTab()&&(t.stopAllLayerAnimation(),t.animateCurrentSelectedLayer(5),u.removeCurrentLayerRotatable())):(e.addClass("inpause"),t.stopAllLayerAnimation())}),jQuery("#loopanimation-playpause").click(function(){var e=jQuery(this);e.hasClass("inpause")?(e.removeClass("inpause"),t.checkLoopTab()&&(t.stopAllLayerAnimation(),t.callCaptionLoops(),u.removeCurrentLayerRotatable())):(e.addClass("inpause"),t.stopAllLayerAnimation())}),jQuery("#rs-style-tab-button").click(function(){setTimeout(function(){jQuery(".slide_layer").each(function(){t.rebuildLayerIdle(jQuery(this));var e=jQuery(this).find(".innerslide_layer").first();if(e.length>0&&void 0!=e.data("hoveranim")){var a=e.data("hoveranim");a.seek(a.endTime())}})},19)}),jQuery("#toggle-idle-hover").click(function(){setTimeout(function(){t.rebuildLayerIdle(jQuery(".slide_layer.layer_selected"))},19)}),jQuery("#style_form_wrapper").on("colorchanged",function(){t.rebuildLayerIdle(jQuery(".slide_layer.layer_selected"))})}function preparePeviewAnimations(){jQuery(".rs-inoutanimationfield").on("change",function(){t.checkAnimationTab()&&(t.stopAllLayerAnimation(),setTimeout(function(){t.animateCurrentSelectedLayer(50)},19))})}function prepareLoopAnimations(){jQuery(".rs-loopanimationfield").on("change",function(){t.checkLoopTab()&&(t.stopAllLayerAnimation(),setTimeout(function(){t.callCaptionLoops()},19))})}function checkSFXAnimations(e,t,a,r,i,o){if(void 0!==t&&t.indexOf("block")>=0){var n=new Object;switch(0===a.find(".tp-blockmask_in").length&&(a.append('<div class="tp-blockmask_in"></div>'),a.append('<div class="tp-blockmask_out"></div>')),n.ft=[{scaleY:1,scaleX:0,transformOrigin:"0% 50%"},{scaleY:1,scaleX:1,ease:i,immediateRender:!1}],n.t={scaleY:1,scaleX:0,transformOrigin:"100% 50%",ease:i,immediateRender:!1
},n.bmask_in=a.find(".tp-blockmask_in"),n.bmask_out=a.find(".tp-blockmask_out"),n.type="block",t){case"blocktoleft":case"blockfromright":n.ft[0].transformOrigin="100% 50%",n.t.transformOrigin="0% 50%";break;case"blockfromtop":case"blocktobottom":n.ft=[{scaleX:1,scaleY:0,transformOrigin:"50% 0%"},{scaleX:1,scaleY:1,ease:i,immediateRender:!1}],n.t={scaleX:1,scaleY:0,transformOrigin:"50% 100%",ease:i,immediateRender:!1};break;case"blocktotop":case"blockfrombottom":n.ft=[{scaleX:1,scaleY:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,ease:i,immediateRender:!1}],n.t={scaleX:1,scaleY:0,transformOrigin:"50% 0%",ease:i,immediateRender:!1}}return n.ft[1].overwrite="auto",n.t.overwrite="auto",n}return a.find(".tp-blockmask").remove(),!1}function shuffleArray(e){for(var t,a,r=e.length;0!==r;)a=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[a],e[a]=t;return e}function getSplitTextDirs(e,t){var a=new Array;switch(t){case"forward":case"random":for(var r=0;e>=r;r++)a.push(r);"random"===t&&(a=shuffleArray(a));break;case"backward":for(var r=0;e>=r;r++)a.push(e-r);break;case"middletoedge":var i=Math.ceil(e/2),o=i-1,n=i+1;a.push(i);for(var r=0;i>r;r++)o>=0&&a.push(o),e>=n&&a.push(n),o--,n++;break;case"edgetomiddle":for(var o=e,n=0,r=0;r<=Math.floor(e/2);r++)a.push(o),o>n&&a.push(n),o--,n++}return a}function getCycles(e){var t={};for(var a in e)"string"==typeof e[a]&&e[a].indexOf("|")>=0&&(void 0===t[a]&&(t[a]={index:0}),t[a].values=e[a].replace("[","").replace("]","").split("|"),t[a].len=t[a].values.length-1);return t}function theLayerInAnimation(e){var t=e.closest(".slide_layer"),a=u.getSerialFromID(t.attr("id")),r=new Object;r=jQuery.extend(!0,{},r,u.getLayer(a)),0==t.children(".tp-mask-wrap").length&&t.wrapInner('<div style="width:100%;height:100%;position:relative;" class="tp-mask-wrap"></div>');var i=t.find(".tp-mask-wrap"),o=(r.animation,t.hasClass("slide_layer_type_column")?t.find(".column_background").first():void 0),n=r.frames.frame_0.speed/1e3,s=r.frames.frame_0.easing,l=r.frames.frame_0.splitdelay/100,d=r.frames.frame_0.split,c=r.frames.frame_999.split,m=e,p=new Object,f=new Object,h=r.frames.frame_0.split_direction;if(p.transx=0,p.transy=0,p.transz=0,p.rotatex=0,p.rotatey=0,p.rotatez=0,p.scalex=1,p.scaley=1,p.skewx=0,p.skewy=0,p.opac=0,p.tper=parseFloat(r.deformation.pers),p.origin="center,center",f.transx=0,f.transy=0,f.transz=parseFloat(r.deformation.z),f.rotatex=parseFloat(r.deformation.xrotate),f.rotatey=parseFloat(r.deformation.yrotate),f.rotatez=parseFloat(r["2d_rotation"]),f.scalex=parseFloat(r.deformation.scalex),f.scaley=parseFloat(r.deformation.scaley),f.skewx=parseFloat(r.deformation.skewx),f.skewy=parseFloat(r.deformation.skewy),f.opac=parseFloat(r.deformation.opacity),f.tper=parseFloat(r.deformation.pers),p["-webkit-filter"]="",p.filter="",f["-webkit-filter"]="",f.filter="",void 0!==r.deformation.blurfilter&&parseInt(r.deformation.blurfilter,0)>0||void 0!==r.blurfilter_start&&parseInt(r.blurfilter_start,0)>0){var y="blur("+parseInt(r.deformation.blurfilter,0)+"px)",g="inherit"===r.blurfilter_start?y:"blur("+parseInt(r.blurfilter_start,0)+"px)";p["-webkit-filter"]=g,p.filter=g,f["-webkit-filter"]=y,f.filter=y}if(void 0!==r.deformation.grayscalefilter&&parseInt(r.deformation.grayscalefilter,0)>0||void 0!==r.grayscalefilter_start&&parseInt(r.grayscalefilter_start,0)>0){var v="grayscale("+parseInt(r.deformation.grayscalefilter,0)+"%)",b="inherit"===r.grayscalefilter_start?v:"grayscale("+parseInt(r.grayscalefilter_start,0)+"%)";p["-webkit-filter"]=""===p["-webkit-filter"]?b:p["-webkit-filter"]+" "+b,p.filter=""===p.filter?b:p.filter+" "+b,f["-webkit-filter"]=""===f["-webkit-filter"]?v:f["-webkit-filter"]+" "+v,f.filter=""===f.filter?v:f.filter+" "+v}var _=r.layer_2d_origin_x+"%",w=r.layer_2d_origin_y+"%",k=_+" "+w;if(void 0!=e.data("mySplitText")&&("none"!=d||"none"!=c))try{e.data("mySplitText").revert()}catch(e){}switch("chars"==d||"words"==d||"lines"==d||"chars"==c||"words"==c||"lines"==c?e.find("a").length>0?e.data("mySplitText",new SplitText(e.find("a"),{type:"lines,words,chars"})):e.data("mySplitText",new SplitText(e,{type:"lines,words,chars"})):e.data("mySplitText","none"),d){case"chars":m=e.data("mySplitText").chars;break;case"words":m=e.data("mySplitText").words;break;case"lines":m=e.data("mySplitText").lines}1e3*(m.length*l+n),punchgs.TweenLite.killTweensOf(e,!1),punchgs.TweenLite.killTweensOf(m,!1),punchgs.TweenLite.set(i,{clearProps:"transform"}),punchgs.TweenLite.set(e,{clearProps:"transform"}),punchgs.TweenLite.set(m,{clearProps:"transform"});var x=new punchgs.TimelineLite,L=new punchgs.TimelineLite;m!=e&&x.add(punchgs.TweenLite.set(e,{scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz+1,skewX:f.skewx,skewY:f.skewy,transformPerspective:f.tper,transformOrigin:k,autoAlpha:f.opac,overwrite:"all"})),e.data("timer")&&clearTimeout(e.data("timer")),e.data("timera")&&clearTimeout(e.data("timera"));var T=checkSFXAnimations(r,r.frames.frame_0.sfx_effect,i,l,s,n);if(T!==!1)"block"===T.type&&(T.ft[0].background=window.RevColor.get(r.frames.frame_0.sfxcolor),x.add(punchgs.TweenLite.fromTo(T.bmask_in,n/2,T.ft[0],T.ft[1],l)),x.add(punchgs.TweenLite.fromTo(T.bmask_in,n/2,T.ft[1],T.t,l+n/2)),x.add(L.set(m,{clearProps:"transform"}),0),x.add(L.staggerFromTo(m,.05,{x:0,y:0,scale:1,autoAlpha:0},{x:0,y:0,autoAlpha:1,delay:n/2},l),0));else{p.transx=checkAnimValue(r.x_start,f.transx,e,"horizontal",m.length),p.transy=checkAnimValue(r.y_start,f.transy,e,"vertical",m.length),p.transz=checkAnimValue(r.z_start,f.transz,e,void 0,m.length),p.rotatex=checkAnimValue(r.x_rotate_start,f.rotatex,e,void 0,m.length),p.rotatey=checkAnimValue(r.y_rotate_start,f.rotatey,e,void 0,m.length),p.rotatez=checkAnimValue(r.z_rotate_start,f.rotatez,e,void 0,m.length),p.scalex=checkAnimValue(r.scale_x_start,f.scalex,e,void 0,m.length),p.scaley=checkAnimValue(r.scale_y_start,f.scaley,e,void 0,m.length),p.skewx=checkAnimValue(r.skew_x_start,f.skewx,e,void 0,m.length),p.skewy=checkAnimValue(r.skew_y_start,f.skewy,e,void 0,m.length),p.opac=checkAnimValue(r.opacity_start,f.opac,e,void 0,m.length),p.tper=r.deformation.pers,x.add(L.set(m,{clearProps:"transform"}),0);var j={scaleX:p.scalex,scaleY:p.scaley,rotationX:p.rotatex,rotationY:p.rotatey,rotationZ:p.rotatez,x:p.transx,y:p.transy,z:p.transz,skewX:p.skewx,skewY:p.skewy,transformPerspective:p.tper,transformOrigin:k,autoAlpha:p.opac,"-webkit-filter":p["-webkit-filter"],filter:p.filter},Q={scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz,skewX:f.skewx,skewY:Number(f.skewy),transformPerspective:f.tper,transformOrigin:k,ease:s,autoAlpha:f.opac,overwrite:"all",force3D:"auto","-webkit-filter":f["-webkit-filter"],filter:f.filter};if(m.length>1){var I=getSplitTextDirs(m.length-1,h),S={from:getCycles(jQuery.extend({},j,!0)),to:getCycles(jQuery.extend({},Q,!0))};for(var C in m){var A=jQuery.extend({},j,!0),E=jQuery.extend({},Q,!0);for(var z in S.from)A[z]=parseInt(S.from[z].values[S.from[z].index],0),S.from[z].index=S.from[z].index<S.from[z].len?S.from[z].index+1:0;x.add(L.fromTo(m[I[C]],n,A,E,l*C),0)}}else x.add(L.staggerFromTo(m,n,jQuery.extend({},j,!0),jQuery.extend({},Q,!0),l))}if(void 0!=o&&x.add(punchgs.TweenLite.fromTo(o,n,{scaleX:p.scalex,scaleY:p.scaley,rotationX:p.rotatex,rotationY:p.rotatey,rotationZ:p.rotatez,x:p.transx,y:p.transy,z:p.transz,skewX:p.skewx,skewY:p.skewy,transformPerspective:p.tper,transformOrigin:k,autoAlpha:p.opac},{scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz,skewX:f.skewx,skewY:Number(f.skewy),transformPerspective:f.tper,transformOrigin:k,ease:s,autoAlpha:f.opac,overwrite:"all",force3D:"auto"}),0),r.mask_start||x.add(punchgs.TweenLite.set(i,{overflow:"visible"}),0),r.mask_start){var B=new Object;B.x=checkAnimValue(r.mask_x_start,r.mask_x_start,e,"horizontal"),B.y=checkAnimValue(r.mask_y_start,r.mask_y_start,e,"vertical"),x.add(punchgs.TweenLite.fromTo(i,n,{overflow:"hidden",x:B.x,y:B.y},{x:0,y:0,ease:s}),0)}return r.mask_start||r.mask_end?i.addClass("tp-showmask"):i.removeClass("tp-showmask"),e.data("startanimobj",p),x.add(punchgs.TweenLite.fromTo(jQuery("#startanim_wrapper"),L.totalDuration(),{autoAlpha:1,width:0},{width:67,ease:s}),0),m!=e&&x.add(punchgs.TweenLite.fromTo(e.parent(),.2,{autoAlpha:0},{autoAlpha:1}),0),x}function theLayerOutAnimation(e){var t=e.closest(".slide_layer"),a=u.getSerialFromID(t.attr("id")),r=new Object;r=jQuery.extend(!0,{},r,u.getLayer(a));var i=t.find(".tp-mask-wrap"),o=t.hasClass("slide_layer_type_column")?t.find(".column_background").first():void 0,n=r.frames.frame_999.animation,s=r.frames.frame_999.speed/1e3,l=r.frames.frame_999.easing,d=r.frames.frame_999.splitdelay/100,c=r.frames.frame_999.split,m=e;if(theanim=new Object,theresult=new Object,originx=r.layer_2d_origin_x+"%",originy=r.layer_2d_origin_y+"%",origin=originx+" "+originy,$splitdir=r.frames.frame_999.split_direction,l="nothing"==l?r.frames.frame_999.easing:l,theanim.transx=0,theanim.transy=0,theanim.transz=0,theanim.rotatex=0,theanim.rotatey=0,theanim.rotatez=0,theanim.scalex=1,theanim.scaley=1,theanim.skewx=0,theanim.skewy=0,theanim.opac=0,theanim.tper=parseFloat(r.deformation.pers),theresult.transx=0,theresult.transy=0,theresult.transz=parseFloat(r.deformation.z),theresult.rotatex=parseFloat(r.deformation.xrotate),theresult.rotatey=parseFloat(r.deformation.yrotate),theresult.rotatez=parseFloat(r["2d_rotation"]),theresult.scalex=parseFloat(r.deformation.scalex),theresult.scaley=parseFloat(r.deformation.scaley),theresult.skewx=parseFloat(r.deformation.skewx),theresult.skewy=parseFloat(r.deformation.skewy),theresult.opac=parseFloat(r.deformation.opacity),theresult.tper=parseFloat(r.deformation.pers),theanim["-webkit-filter"]="",theanim.filter="",theresult["-webkit-filter"]="",theresult.filter="",void 0!==r.deformation.blurfilter&&parseInt(r.deformation.blurfilter,0)>0||void 0!==r.blurfilter_start&&parseInt(r.blurfilter_start,0)>0){var p="blur("+parseInt(r.deformation.blurfilter,0)+"px)",f="inherit"===r.blurfilter_end?p:"blur("+parseInt(r.blurfilter_end,0)+"px)";theanim["-webkit-filter"]=f,theanim.filter=f,theresult["-webkit-filter"]=p,theresult.filter=p}if(void 0!==r.deformation.grayscalefilter&&parseInt(r.deformation.grayscalefilter,0)>0||void 0!==r.grayscalefilter_end&&parseInt(r.grayscalefilter_end,0)>0){var h="grayscale("+parseInt(r.deformation.grayscalefilter,0)+"%)",y="inherit"===r.grayscalefilter_end?h:"grayscale("+parseInt(r.grayscalefilter_end,0)+"%)";theanim["-webkit-filter"]=""===theanim["-webkit-filter"]?y:theanim["-webkit-filter"]+" "+y,theanim.filter=""===theanim.filter?y:theanim.filter+" "+y,theresult["-webkit-filter"]=""===theresult["-webkit-filter"]?h:theresult["-webkit-filter"]+" "+h,theresult.filter=""===theresult.filter?h:theresult.filter+" "+h}switch(c){case"chars":m=e.data("mySplitText").chars;break;case"words":m=e.data("mySplitText").words;break;case"lines":m=e.data("mySplitText").lines}var g=(1e3*(m.length*d+s),new punchgs.TimelineLite),v=new punchgs.TimelineLite;null==n&&(n="auto"),r.mask_end&&("auto"!==n||r.mask_start)||g.add(punchgs.TweenLite.set(i,{overflow:"visible"}));var b=checkSFXAnimations(r,r.frames.frame_999.sfx_effect,i,d,l,s);if(b!==!1)"block"===b.type&&(b.ft[0].background=window.RevColor.get(r.frames.frame_999.sfxcolor),g.add(punchgs.TweenLite.fromTo(b.bmask_out,s/2,b.ft[0],b.ft[1],d)),g.add(punchgs.TweenLite.fromTo(b.bmask_out,s/2,b.ft[1],b.t,d+s/2)),g.add(v.set(m,{clearProps:"transform"}),0),g.add(v.staggerTo(m,.05,{x:0,y:0,autoAlpha:0,delay:s/2},d),0));else{"auto"===n?theanim=e.data("startanimobj"):(!!(r.mask_end||"auto"===n&&r.mask_start),theanim.transx=checkAnimValue(r.x_end,theresult.transx,e,"horizontal",m.length),theanim.transy=checkAnimValue(r.y_end,theresult.transy,e,"vertical",m.length),theanim.transz=checkAnimValue(r.z_end,theresult.transz,e,void 0,m.length),theanim.rotatex=checkAnimValue(r.x_rotate_end,theresult.rotatex,e,void 0,m.length),theanim.rotatey=checkAnimValue(r.y_rotate_end,theresult.rotatey,e,void 0,m.length),theanim.rotatez=checkAnimValue(r.z_rotate_end,theresult.rotatez,e,void 0,m.length),theanim.scalex=checkAnimValue(r.scale_x_end,theresult.scalex,e,void 0,m.length),theanim.scaley=checkAnimValue(r.scale_y_end,theresult.scaley,e,void 0,m.length),theanim.skewx=checkAnimValue(r.skew_x_end,theresult.skewx,e,void 0,m.length),theanim.skewy=checkAnimValue(r.skew_y_end,theresult.skewy,e,void 0,m.length),theanim.opac=checkAnimValue(r.opacity_end,theresult.opac,e,void 0,m.length),theanim.tper=r.deformation.pers),g.add(v.staggerTo(m,.001,{"-webkit-filter":theresult["-webkit-filter"],filter:theresult.filter},d-.001));var _={scaleX:theanim.scalex,scaleY:theanim.scaley,rotationX:theanim.rotatex,rotationY:theanim.rotatey,rotationZ:theanim.rotatez,x:theanim.transx,y:theanim.transy,z:theanim.transz+1,skewX:theanim.skewx,skewY:theanim.skewy,opacity:theanim.opac,transformPerspective:theanim.tper,transformOrigin:origin,ease:l,"-webkit-filter":theanim["-webkit-filter"],filter:theanim.filter};if(m.length>1){var w=getSplitTextDirs(m.length-1,$splitdir),k={to:getCycles(jQuery.extend({},_,!0))};for(var x in m){var L=jQuery.extend({},_,!0);for(var T in k.to)L[T]=parseInt(k.to[T].values[k.to[T].index],0),k.to[T].index=k.to[T].index<k.to[T].len?k.to[T].index+1:0;g.add(v.to(m[w[x]],s,L,d*x),0)}}else g.add(v.staggerTo(m,s,jQuery.extend({},_,!0),d))}if(void 0!=o&&g.add(punchgs.TweenLite.to(o,s,{scaleX:theanim.scalex,scaleY:theanim.scaley,rotationX:theanim.rotatex,rotationY:theanim.rotatey,rotationZ:theanim.rotatez,x:theanim.transx,y:theanim.transy,z:theanim.transz+1,skewX:theanim.skewx,skewY:theanim.skewy,opacity:theanim.opac,transformPerspective:theanim.tper,transformOrigin:origin,ease:l},d),0),r.mask_end){var j=new Object;j.x=checkAnimValue(r.mask_x_end,r.mask_x_end,e),j.y=checkAnimValue(r.mask_y_end,r.mask_y_end,e),g.add(punchgs.TweenLite.to(i,s,{x:j.x,y:j.y,ease:l,overflow:"hidden"},d),0)}else if("auto"===n&&r.mask_start){var j=new Object;j.x=checkAnimValue(r.mask_x_start,r.mask_x_start,e),j.y=checkAnimValue(r.mask_y_start,r.mask_y_start,e),g.add(punchgs.TweenLite.to(i,s,{x:j.x,y:j.y,ease:l},d),0)}return g.add(punchgs.TweenLite.fromTo(jQuery("#endanim_timerunnerbox"),v.totalDuration(),{x:0},{x:-67,ease:l}),0),g.add(punchgs.TweenLite.fromTo(jQuery("#endanim_timerunner"),v.totalDuration(),{x:0},{x:-67,ease:l}),0),m!=e&&g.add(punchgs.TweenLite.fromTo(e.parent(),.2,{autoAlpha:1},{autoAlpha:0}),v.totalDuration()-.2),g}function createGlobalTimeline(e,a){e&&t.stopAllLayerAnimation();var r=jQuery("#mastertimer-position");void 0!=r.data("tl")&&r.data("tl").kill();var i=new punchgs.TimelineLite;i.pause(),jQuery(" .slide_layer .innerslide_layer").each(function(){var e=jQuery(this);e.data("inanim",theLayerInAnimation(e)),e.data("outanim",theLayerOutAnimation(e));var t=u.getSerialFromID(e.closest(".slide_layer").attr("id"));params=u.getLayer(t),i.add(e.data("inanim"),params.frames.frame_0.time/1e3);var a=params.frames.frame_999.endspeed;void 0==a&&(a=params.frames.frame_0.speed),i.add(e.data("outanim"),params.frames.frame_999.time/1e3)}),r.data("tl",i)}function loadMusicTimeLine(e,t){if(null===audioContext||!AudioContext)return!1;var a=new XMLHttpRequest,r=e.references.sorttable.timeline,i=null;a.open("GET",t,!0),a.responseType="arraybuffer",a.onreadystatechange=function(t){4==a.readyState&&(200==a.status?audioContext.decodeAudioData(a.response,function(t){i=t,r.data("audiobuffer",t),displayAudioBuffer(e,t)},onDecodeError):console.log("error during the load.Wrong url or cross origin issue"))},a.send()}function onDecodeError(){alert("error while decoding your Audio file.")}function getStartSec(e){return void 0==e?-1:""==e?-1:" "==e?-1:jQuery.isNumeric(e)?e:e.split(":").length>1?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}function displayAudioBuffer(e,a){try{var r=e.references.sorttable.timeline,i=a.getChannelData(0),o=(r.find(".timeline_full"),100*a.duration),n=19,s=(e.video_data.start_at,getStartSec(e.video_data.start_at)),l=getStartSec(e.video_data.end_at);s=-1==s?0:s,l=-1==l?999999999:l,s/=60,l/=60,l=l>a.duration?a.duration:l,s*=a.sampleRate,l*=a.sampleRate,o=(l-s)/a.sampleRate*100,r.find("canvas").remove();var d=document.createElement("canvas");d.width=t.mainMaxTimeLeft,d.height=n,r.append('<div class="timeline_audio"></div>'),r.find(".timeline_audio").append(d);var c=r.find("canvas");punchgs.TweenLite.set(c,{zIndex:2,top:3,left:0,position:"absolute"});var u=d.getContext("2d");o/i.length,u.save(),u.fillStyle="transparent",u.fillRect(0,0,o,n),u.strokeStyle="#333",u.translate(0,n/2),u.globalAlpha=.5;for(var m=0,p=l-s,f=0;l-s>f;f+=200){var h=Math.floor(o*f/p),y=i[s+f]*n;u.beginPath(),u.moveTo(h,0),u.lineTo(h+1,y),u.stroke(),m++}if("none"!=e.video_data.videoloop)for(var g=u.getImageData(0,0,o,n),v=t.mainMaxTimeLeft/o,f=0;v>f;f++)u.beginPath(),u.moveTo(f*o,-50),u.lineTo(f*o,n),u.lineWidth=3,u.strokeStyle="#c0392b",u.stroke(),u.putImageData(g,f*o,0);u.restore(),audio=jQuery(e.references.sorttable.timeline[0]).find(".timeline_audio"),void 0!==audio&&audio.length>0&&punchgs.TweenLite.set(audio,{left:15+e.frames.frame_0.time/10,width:(e.frames.frame_999.time-e.frames.frame_0.time+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10})}catch(e){console.log("Drawing of Audio Map failed !")}}var t=this,u=new Object,sortMode="time",__ctime,__ctimeb,__ctimei,__coffset=0;t.timelinetype="absolute",t.mainMaxTimeLeft=0,t.layout="desktop",t.timercorrectur=0,t.init=function(){u=UniteLayersRev,g_rebuildTimer=999,g_slideTime=u.getMaintime(),g_keyTimer=0,t.mainMaxTimeLeft=jQuery("#mastertimer-maxtime").position().left,initSlideDuration(),initSortbox(),initMasterTimer(),preparePeviewAnimations(),prepareLoopAnimations(),showHideTimeines(),basicClicksAndHovers(),addIconFunction(),t.addToSortbox(),jQuery("#slide_transition, #slot_amount, #transition_rotation").change(function(){setFakeAnim()});var e;jQuery(window).resize(function(){clearTimeout(e),e=setTimeout(function(){t.resetSlideAnimations(!1)},250)});var a=!1;jQuery("#thelayer-editor-wrapper").hover(function(){a=!0},function(){a=!1}),jQuery("#fake-select-title-wrapper").click(function(){jQuery("#slide-animation-settings-content-tab").click(),jQuery("html,body").animate({scrollTop:-100+jQuery("#slide-animation-settings-content-tab").offset().top},200)}),jQuery(".slide-trans-menu-element").each(function(){var e=jQuery(this);e.text(e.text().toLowerCase()),e.click(function(){var e=jQuery(this);jQuery(".slide-trans-menu-element").removeClass("selected"),e.addClass("selected"),jQuery(".slide-trans-checkelement").hide(),jQuery("."+e.data("reference")).show()})}),jQuery(".slide-trans-menu-element").first().click();var r=function(){var e=jQuery(".slide-trans-cur-ul");for(var t in choosen_slide_transition){var a="";a+=' data-duration="'+transition_settings.duration[t]+'"',a+=' data-ease_in="'+transition_settings.ease_in[t]+'"',a+=' data-ease_out="'+transition_settings.ease_out[t]+'"',a+=' data-rotation="'+transition_settings.rotation[t]+'"',a+=' data-slot="'+transition_settings.slot[t]+'"',e.append('<li value="'+choosen_slide_transition[t]+'"'+a+' class="justaddedtrans draggable-trans-element">'+jQuery('input[name="slide_transition[]"][value="'+choosen_slide_transition[t]+'"]').parent().text()+'<i class="remove-trans-from-list eg-icon-cancel"></i></li>'),jQuery(".justaddedtrans").data("animval",choosen_slide_transition[t]),jQuery(".justaddedtrans").removeClass("justaddedtrans")}setFakeAnim()};"undefined"!=typeof choosen_slide_transition&&r();var i,o=new punchgs.TimelineLite,n=jQuery("#form_slide_params").offset();jQuery("body").on("click",".remove-trans-from-list",function(){var e=jQuery(this),t=e.parent(),a=t.data("animval"),r=!1;return jQuery(".slide-trans-checkelement").each(function(){var e=jQuery(this),t=e.find("input");t.val()==a&&(t.removeAttr("checked"),r=!0)}),r&&jQuery(".remove-trans-from-list").length>1?(t.remove(),jQuery(".slide-trans-cur-ul li:first-child").click()):alert(rev_lang.cant_remove_last_transition),!1}),jQuery(".slide-trans-checkelement").on("mouseover",function(e){var t=jQuery(this).find('input[name="slide_transition[]"]'),a=jQuery(".slide-trans-example-inner .slotholder"),r=jQuery(".slide-trans-example-inner .oldslotholder"),i=jQuery(".slide-trans-example");a.find(".slot").each(function(){jQuery(this).remove()}),r.find(".slot").each(function(){jQuery(this).remove()}),o.kill(),punchgs.TweenLite.set(a,{clearProps:"transform"}),punchgs.TweenLite.set(r,{clearProps:"transform"}),punchgs.TweenLite.set(a.find(".defaultimg"),{clearProps:"transform",autoAlpha:1}),punchgs.TweenLite.set(r.find(".defaultimg"),{clearProps:"transform",autoAlpha:1}),o=slideAnimation(a,r,t.val(),o,!0),o.pause(.001),punchgs.TweenLite.to(i,.2,{top:e.pageY-n.top,overwrite:"all",autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){setTimeout(function(){o.play()},100)}})}),jQuery(".slide-trans-checkelement").on("mouseleave",function(){clearTimeout(i),jQuery(this).find('input[name="slide_transition[]"]'),jQuery(".slide-trans-example-inner .slotholder"),jQuery(".slide-trans-example-inner .oldslotholder"),punchgs.TweenLite.to(jQuery(".slide-trans-example"),.2,{autoAlpha:0,delay:.2})}),jQuery('input[name="slide_transition[]"]').on("change",function(){if(jQuery(this).is(":checked")){var e="";e+=' data-duration="default"',e+=' data-ease_in="default"',e+=' data-ease_out="default"',e+=' data-rotation="0"',e+=' data-slot="default"',jQuery(".slide-trans-cur-ul").append('<li value="'+jQuery(this).val()+'"'+e+' class="justaddedtrans draggable-trans-element">'+jQuery(this).parent().text()+'<i class="remove-trans-from-list eg-icon-cancel"></i></li>'),jQuery(".justaddedtrans").data("animval",jQuery(this).val()),jQuery(".justaddedtrans").removeClass("justaddedtrans")}else jQuery(".remove-trans-from-list").length>1?(jQuery(".slide-trans-cur-ul").find("li:data[value="+jQuery(this).val()+"]").remove(),jQuery(".slide-trans-cur-ul li:first-child").click()):(jQuery(this).attr("checked",!0),alert(rev_lang.cant_remove_last_transition));setFakeAnim()}),jQuery("body").on("click",".slide-trans-cur-ul li",function(){jQuery(".slide-trans-cur-ul li").each(function(){jQuery(this).removeClass("selected")}),jQuery(this).addClass("selected"),jQuery('input[name="slot_amount"]').val(jQuery(this).data("slot")),jQuery('input[name="transition_rotation"]').val(jQuery(this).data("rotation")),jQuery('input[name="transition_duration"]').val(jQuery(this).data("duration")),jQuery('select[name="transition_ease_in"] option[value="'+jQuery(this).data("ease_in")+'"]').attr("selected",!0),jQuery('select[name="transition_ease_out"] option[value="'+jQuery(this).data("ease_out")+'"]').attr("selected",!0)}),jQuery(".slide-trans-cur-ul li:first-child").click(),jQuery('input[name="slot_amount"]').change(function(){jQuery(".slide-trans-cur-ul li.selected").data("slot",jQuery(this).val())}),jQuery('input[name="transition_rotation"]').change(function(){jQuery(".slide-trans-cur-ul li.selected").data("rotation",jQuery(this).val())}),jQuery("#transition_duration, #delay").change(function(){jQuery(".slide-trans-cur-ul li.selected").data("duration",jQuery(this).val()),t.setSlideTransitionTimerBar()}),jQuery('select[name="transition_ease_in"]').change(function(){jQuery(".slide-trans-cur-ul li.selected").data("ease_in",jQuery(this).val())}),jQuery('select[name="transition_ease_out"]').change(function(){jQuery(".slide-trans-cur-ul li.selected").data("ease_out",jQuery(this).val())}),jQuery(".slide-trans-cur-ul").sortable({containment:".slide-trans-cur-selected",stop:function(){setTimeout(function(){setFakeAnim()},200)}}),jQuery("#abs_rel_timeline").on("change",function(){t.timelinetype=jQuery(this).val(),t.updateAllLayerTimeline()}),jQuery(document).on("keydown",function(e){var t=jQuery("input:focus").length>0;if(e.ctrlKey||e.metaKey||e.shiftKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.shiftKey||(e.preventDefault(),jQuery("#button_save_static_slide-tb").length>0?jQuery("#button_save_static_slide-tb").click():jQuery("#button_save_slide-tb").click());break;case"z":!e.metaKey&&!e.ctrlKey||t||(e.preventDefault(),e.shiftKey?u.oneStepRedo():u.oneStepUndo());break;case"y":!e.ctrlKey&&!e.metaKey||t||(e.preventDefault(),u.oneStepRedo())}}),jQuery("body").on("keydown keyup",function(e){if(jQuery("#layer_text").is(":focus"))return!0;if(jQuery("#layer_text_toggle").is(":focus"))return!0;var t=e.keyCode?e.keyCode:e.which,r=void 0!=jQuery(document.activeElement).data("steps")?parseFloat(jQuery(document.activeElement).data("steps")):1;switch(Number(parseInt(jQuery("#layer_left").val(),0)),Number(parseInt(jQuery("#layer_top").val(),0)),e.shiftKey&&(r*=10),jQuery(document.activeElement).get(0).tagName.toLowerCase()){case"INPUT":case"input":var i=parseFloat(jQuery(document.activeElement).val());if(void 0!=jQuery(document.activeElement).data("suffix")&&!jQuery(document.activeElement).data("suffix").match(/auto/g)&&(i=Number(i),jQuery.isNumeric(i)))switch(t){case 38:return"keyup"==e.type&&reBlurFocus(r,i,jQuery(document.activeElement)),!1;case 40:return"keyup"==e.type&&reBlurFocus(-r,i,jQuery(document.activeElement)),!1}break;case"textarea":return!0;default:switch(t){case 8:case 46:e.preventDefault(),"keydown"==e.type&&(jQuery("#button_delete_layer").click(),window.deletecalled=!0)}if(a)switch(t){case 40:return"keyup"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions("top",r),!1;case 38:return"keyup"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions("top",-1*r),!1;case 37:return"keyup"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions("left",-1*r),!1;case 39:return"keyup"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions("left",r),!1}}}),t.deepSelection(),jQuery(".input-deepselects").each(function(){var e=jQuery(this);e.wrap('<span class="inp-deep-wrapper"></span>'),e.parent().append('<div class="inp-deep-list"></div>');var t=e.parent().find(".inp-deep-list"),a='<span class="inp-deep-listitems">',r=e.data("reverse"),i=e.data("deepwidth"),o=void 0!=e.data("selects")?e.data("selects").split("||"):"",n=void 0!=e.data("svalues")?e.data("svalues").split("||"):"",s=void 0!=e.data("icons")?e.data("icons").split("||"):"",l=e.attr("id");void 0!==i&&punchgs.TweenLite.set(t,{minWidth:i+"px"}),"on"==r&&(a=a+"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='"+l+"_reverse' id='"+l+"_reverse' type='checkbox'></span>"),void 0!==o&&""!=o&&jQuery.each(o,function(e){var t=n[e]||"",r=o[e]||"",e=s[e]||"";a=a+"<span class='inp-deep-prebutton' data-val='"+t+"'><i class='eg-icon-"+e+"'></i>"+r+"</span>"}),a+="</span>",t.append(a),"on"==r&&RevSliderSettings.onoffStatus(jQuery('input[name="'+l+'_reverse"]'))}),jQuery("body").on("click",".inp-deep-prebutton",function(){var e=jQuery(this),t=e.closest(".inp-deep-wrapper").find("input");t.val(e.data("val")),t.blur(),t.focus(),t.trigger("change")}),jQuery("body").on("click",".input-deepselects",function(){jQuery(this).closest(".inp-deep-wrapper").find(".inp-deep-list").addClass("visible"),jQuery(this).closest(".inp-deep-wrapper").addClass("selected-deep-wrapper")}),jQuery(".inp-deep-wrapper").on("mouseleave",function(){jQuery(this).find(".inp-deep-list").removeClass("visible"),jQuery(this).removeClass("selected-deep-wrapper")}),jQuery('input[name="masking-start"]').on("change",function(){"checked"===jQuery(this).attr("checked")?jQuery(".mask-start-settings").show():jQuery(".mask-start-settings").hide()}),jQuery('input[name="masking-end"]').on("change",function(){"checked"===jQuery(this).attr("checked")?jQuery(".mask-end-settings").show():jQuery(".mask-end-settings").hide()}),jQuery("body").on("click",".show_timeline_helper",function(){var e=jQuery(this),t=e.closest("li"),a=e.closest(".timeline_frame"),r=jQuery("#timline-manual-dialog"),i=a.position().left,o=(t.width(),a.data("frameindex")),n=u.getLayerByUniqueId(t.data("uniqueid")),s=n.frames["frame_"+o].time,l=n.frames["frame_"+o].speed;r.appendTo(t),i=999===o?i-r.width()+a.width()-20:0===o?i:i-r.width()/2+10,i=20>i?20:i,r.css({left:i}),jQuery("#clayer_start_time").val(s),jQuery("#clayer_start_speed").val(l),r.data("frameindex",o),r.data("uniqueid",n.unique_id),r.show()}),jQuery("body").on("click","#timline-manual-closer",function(){var e=jQuery("#timline-manual-dialog");e.hide(),e.appendTo(jQuery("#thelayer-editor-wrapper"))}),jQuery("body").on("click","#timline-manual-apply",function(){var e=(jQuery(this),jQuery("#timline-manual-dialog")),a=e.data("frameindex"),r=document.getElementById("tl_"+e.data("uniqueid")+"_frame_"+a);objLayer=u.getLayerByUniqueId(e.data("uniqueid")),objUpdate={frames:{}},t.recordFrameStatus(r),objUpdate.frames["frame_"+a]={},objUpdate.frames["frame_"+a].time=jQuery("#clayer_start_time").val(),objUpdate.frames["frame_"+a].speed=jQuery("#clayer_start_speed").val(),e.hide(),e.appendTo(jQuery("#thelayer-editor-wrapper")),u.updateLayer(objLayer.serial,objUpdate),t.updateLayerTimeline(objLayer),t.updateTLFrame(r,"trigger"),t.updateAllSelectedLayerTimeline(r),t.updateAllLayerTimeline()}),jQuery("body").on("click","#timing-all-onoff-checkbox",function(){var e=jQuery(this);"checked"!=e.attr("checked")||jQuery(".mastertimer-timeline-selector-row.selected").length==jQuery(".layer-on-timeline-selector").length?(jQuery(".mastertimer-timeline-selector-row.selected").removeClass("selected"),jQuery(".layer-on-timeline-selector").removeAttr("checked")):(jQuery(".layer-on-timeline-selector").attr("checked","checked"),jQuery(".sortable_elements .mastertimer-timeline-selector-row").addClass("selected")),t.checkMultipleSelectedItems(),checkAvailableAutoTimes()}),jQuery("body").on("click",".list-of-layer-links",function(){jQuery(this).toggleClass("showmenow")}),jQuery("body").on("click",".timing-layer-link-type-element",function(){var e=jQuery(this).data("linktype");u.selectedLayers=[],jQuery(".layer-on-timeline-selector").each(function(){var t=jQuery(this),a=t.closest(".mastertimer-layer").data("uniqueid"),r=u.getLayerByUniqueId(a);r.groupLink==e?(t.attr("checked","checked"),u.selectedLayers.push(a),r.references.htmlLayer.addClass("multiplelayerselected")):(t.removeAttr("checked","checked"),r.references.htmlLayer.removeClass("multiplelayerselected"))})}),jQuery("body").on("change",".layer-on-timeline-selector",function(){t.checkMultipleSelectedItems()})},t.deepSelection=function(e){jQuery(".input-deepselects").each(function(){var e=jQuery(this);if(!e.hasClass("deepselection_ready")){e.addClass("deepselection_ready"),e.wrap('<span class="inp-deep-wrapper"></span>'),e.parent().append('<span class="inp-deep-list"></span>');var t=e.parent().find(".inp-deep-list"),a='<span class="inp-deep-listitems">',r=e.data("reverse"),i=e.data("deepwidth"),o=void 0!=e.data("selects")?e.data("selects").split("||"):"",n=void 0!=e.data("svalues")?e.data("svalues").split("||"):"",s=void 0!=e.data("icons")?e.data("icons").split("||"):"",l=e.attr("id");void 0!==i&&punchgs.TweenLite.set(t,{minWidth:i+"px"}),"on"==r&&(a=a+"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='"+l+"_reverse' id='"+l+"_reverse' type='checkbox'></span>"),void 0!==o&&""!=o&&jQuery.each(o,function(e){var t=n[e]||"",r=o[e]||"",e=s[e]||"";a=a+"<span class='inp-deep-prebutton' data-val='"+t+"'><i class='eg-icon-"+e+"'></i>"+r+"</span>"}),a+="</span>",t.append(a),"on"==r&&RevSliderSettings.onoffStatus(jQuery('input[name="'+l+'_reverse"]')),e.parent().on("mouseleave",function(){jQuery(this).find(".inp-deep-list").removeClass("visible"),jQuery(this).removeClass("selected-deep-wrapper")})}}),e!==!0&&(jQuery("body").on("click",".inp-deep-prebutton",function(){
var e=jQuery(this),t=e.closest(".inp-deep-wrapper").find("input");t.val(e.data("val")),t.blur(),t.focus(),t.trigger("change")}),jQuery("body").on("click",".input-deepselects",function(){jQuery(this).closest(".inp-deep-wrapper").find(".inp-deep-list").addClass("visible"),jQuery(this).closest(".inp-deep-wrapper").addClass("selected-deep-wrapper")}))},t.checkMultipleSelectedItems=function(e){u.selectedLayers=[],jQuery(".layer-on-timeline-selector").each(function(){var t=jQuery(this),a=u.getLayerByUniqueId(t.closest(".mastertimer-layer").data("uniqueid"));t.attr("checked")&&e!==!0?(a.references.htmlLayer.addClass("multiplelayerselected"),u.selectedLayers.push(a.unique_id)):(t.removeAttr("checked"),a.references.htmlLayer.removeClass("multiplelayerselected"))})},t.compareLayerEndsVSSlideEnd=function(){var e=10*t.mainMaxTimeLeft;jQuery.each(u.arrLayers,function(t,a){(a.endWithSlide||e<a.frames.frame_999.time-a.frames.frame_999.speed)&&(a.frames.frame_999.time=e+a.frames.frame_999.speed)}),t.updateAllLayerTimeline()},t.resetIdleSelector=function(){var e=jQuery("#toggle-idle-hover");e.addClass("idleisselected").removeClass("hoverisselected"),jQuery("#tp-idle-state-advanced-style").show(),jQuery("#tp-hover-state-advanced-style").hide()},t.checkAnimationTab=function(){return!jQuery("#layeranimation-playpause").hasClass("inpause")&&jQuery("#rs-animation-tab-button").hasClass("selected")},t.checkLoopTab=function(){return!jQuery("#loopanimation-playpause").hasClass("inpause")&&jQuery("#rs-loopanimation-tab-button").hasClass("selected")},t.stopAllLayerAnimation=function(){document.getElementById("mastertimer-playpause-wrapper").innerHTML='<i class="eg-icon-play"></i><span>PLAY</span>',punchgs.TweenLite.set(document.getElementsByClassName("tp-mask-wrap"),{clearProps:"transform",overwrite:"all"}),jQuery("#divbgholder").find(".tp-blockmask_in, .tp-blockmask_out").remove(),jQuery(".tp-showmask").removeClass("tp-showmask");for(var e=document.getElementsByClassName("innerslide_layer"),a=0;a<e.length;a++){var r=jQuery(e[a]);if((e[a].parentNode.classList.contains("rs-preview-inside-looper")||e[a].parentNode.parentNode.classList.contains("rs-preview-inside-looper"))&&r.unwrap(),void 0!=r.data("tl")){var i=r.data("tl");i.clear(),i.kill();try{r.data("mySplitText")&&r.data("mySplitText").revert()}catch(e){}punchgs.TweenLite.set(r[0].parentNode,{autoAlpha:1}),t.rebuildLayerIdle(r.closest(".slide_layer")),u.removeCurrentLayerRotatable()}}punchgs.TweenLite.set(document.getElementById("startanim_wrapper"),{autoAlpha:0}),punchgs.TweenLite.set(document.getElementById("endanim_wrapper"),{autoAlpha:0})},t.callCaptionLoops=function(){t.stopAllLayerAnimation();var e=jQuery(".slide_layer.layer_selected"),a=e.find(".innerslide_layer").first();if(0==a.length)return!1;var r=u.getSerialFromID(e.attr("id"));params=u.getLayer(r),loopanim=params.loop_animation,a.closest(".rs-preview-inside-looper").length>0&&a.unwrap(),a.wrap('<div class="rs-preview-inside-looper" style="width:100%;height:100%;position:relative"></div>');var i=e.find(".rs-preview-inside-looper"),o=params.loop_startdeg,n=params.loop_enddeg,s=params.loop_speed,l=""+params.loop_xorigin+"% "+params.loop_yorigin+"%",d=params.loop_easing,c=params.loop_angle,m=parseInt(params.loop_radius,0),p=params.loop_xstart,f=params.loop_ystart,h=params.loop_xend,y=params.loop_yend,g=params.loop_zoomstart,v=params.loop_zoomend;factor=1;var b=new punchgs.TimelineLite;switch(b.pause(),loopanim){case"rs-pendulum":b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",rotation:o,transformOrigin:l},{rotation:n,ease:d})),b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",rotation:n},{rotation:o,ease:d,onComplete:function(){b.restart()}}));break;case"rs-rotate":b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",rotation:o,transformOrigin:l},{rotation:n,ease:d,onComplete:function(){b.restart()}}));break;case"rs-slideloop":b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",x:p,y:f},{x:h,y:y,ease:d})),b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",x:h,y:y},{x:p,y:f,onComplete:function(){b.restart()}}));break;case"rs-pulse":b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",scale:g},{scale:v,ease:d})),b.add(punchgs.TweenLite.fromTo(i,s,{force3D:"auto",scale:v},{scale:g,onComplete:function(){b.restart()}}));break;case"rs-wave":var _=(parseInt(params.loop_xorigin,0)/100-.5)*i.width(),w=(parseInt(params.loop_yorigin,0)/100-.5)*i.height(),k=-1*m+w,x=0+_,L={a:0,ang:c,element:i,unit:m,xoffset:x,yoffset:k},T=parseInt(c,0);b.add(punchgs.TweenLite.fromTo(L,s,{a:0+T},{a:360+T,force3D:"auto",ease:punchgs.Linear.easeNone,onUpdate:function(){var e=L.a*(Math.PI/180),t=L.yoffset+L.unit*(1-Math.sin(e)),a=L.xoffset+Math.cos(e)*L.unit;punchgs.TweenLite.to(L.element,.1,{force3D:"auto",x:a,y:t})},onComplete:function(){b.restart()}}))}b.play(),e.data("tl",b)},t.rebuildLayerIdle=function(e,a,r){if(a=void 0==a?50:a,r=void 0!=r&&r,0==g_rebuildTimer&&(a=0,g_rebuildTimer=999),void 0==e||0==jQuery(e).length||e[0].classList.contains("layer-deleted"))return!1;var i=jQuery(e);clearTimeout(i.data("idlerebuildtimer")),t.rebuildLayerIdleProgress(e);var o=u.getSerialFromID(e.attr("id")),n=u.getLayer(o,r),s=e.find(".tp-caption img");if(u.updateHtmlLayerPosition(!1,n,u.getVal(n,"top"),u.getVal(n,"left"),u.getVal(n,"align_hor"),u.getVal(n,"align_vert")),s.length>0&&!jQuery(s).hasClass("loaded")){jQuery(s).addClass("loaded");var l=new Image;l.onload=function(){n.originalWidth=this.width,n.originalHeight=this.height,u.updateHtmlLayerPosition(!1,n,u.getVal(n,"top"),u.getVal(n,"left"),u.getVal(n,"align_hor"),u.getVal(n,"align_vert"))},l.onerror=function(){s[0].src=n.image_url=g_revslider_url+"/admin/assets/images/tp-brokenimage.png",u.updateHtmlLayerPosition(!1,n,u.getVal(n,"top"),u.getVal(n,"left"),u.getVal(n,"align_hor"),u.getVal(n,"align_vert"))},l.onabort=function(){u.updateHtmlLayerPosition(!1,n,u.getVal(n,"top"),u.getVal(n,"left"),u.getVal(n,"align_hor"),u.getVal(n,"align_vert"))},l.src=s[0].src}else u.updateHtmlLayerCorners(n),u.updateCrossIconPosition(n);return u.extendSlideHeightBasedOnRows(),!0},t.rebuildLayerIdleProgress=function(caption){if(void 0!==caption){var is_demo=caption.attr("id")!==caption.attr("id").replace("demo_layer_");if(void 0==caption||0==jQuery(caption).length)return!1;var id=u.getSerialFromID(caption.attr("id")),params=u.getLayer(id,is_demo);if(void 0==params||0==params)return!1;punchgs.TweenLite.set(caption.find(".tp-mask-wrap"),{clearProps:"all",visibility:"visible",opacity:1}),"column"===params.type&&punchgs.TweenLite.set(caption.find(".column_background").first(),{clearProps:"all",visibility:"visible",opacity:1});var inlayer=jQuery(caption[0].getElementsByClassName("innerslide_layer")[0]),deform=params.deformation,deformidle=params.deformation,deformhover=params["deformation-hover"],ss=params.static_styles,fontcolor=window.RevColor.get(u.getVal(ss,"color")),fonttrans=deform["color-transparency"],bgcolor=window.RevColor.get(deform["background-color"]),bordercolor=deform["border-color"],bordertrans=deform["border-transparency"];if("audio"==params.type)return params.video_data.video_show_visibility?caption.addClass("invisible-audio"):caption.removeClass("invisible-audio"),!1;if(is_demo&&"First"==params.alias,void 0!=inlayer.data("mySplitText")){try{inlayer.data("mySplitText").revert()}catch(a){}"text"!=params.type&&"button"!=params.type||(inlayer[0].innerHTML=params.text,u.makeCurrentLayerRotatable()),inlayer.removeData("mySplitText")}if(Number(bordertrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bordercolor);bordercolor="rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+bordertrans+")"}var mwidth=u.getVal(params,"max_width"),mheight=u.getVal(params,"max_height"),cmode=u.getVal(params,"cover_mode"),loc_position="absolute";switch(params.type){case"image":mwidth=u.getVal(params,"scaleX"),mheight=u.getVal(params,"scaleY");break;case"video":mwidth=params.video_data.cover===!0||params.video_data.fullwidth===!0?"100%":u.getVal(params,"video_width"),mheight=params.video_data.cover===!0||params.video_data.fullwidth===!0?"100%":u.getVal(params,"video_height"),caption.find(".slide_layer_video").css({width:parseInt(mwidth,0)+"px",height:parseInt(mheight,0)+"px"});break;case"row":mwidth="100%","bottom"===u.getVal(params,"align_vert")?caption[0].style.position="absolute":caption[0].style.position="relative","mobile"===params.column_break_at&&"mobile"===t.layout||"tablet"===params.column_break_at&&("tablet"===t.layout||"mobile"===t.layout)||"notebook"===params.column_break_at&&"desktop"!==t.layout?caption.addClass("rev_breakcolumns"):caption.removeClass("rev_breakcolumns");break;case"column":mwidth=100*eval(params.column_size)+"%",mheight="auto",caption[0].style.position="relative",caption[0].style.display="table_cell",caption[0].style.minHeight=parseInt(u.getVal(params,"min_height"),0)+"px",caption[0].style.verticalAlign=deform["vertical-align"],caption[0].cb=void 0===caption[0].cb?caption.find(".column_background"):caption[0].cb,void 0!==params.bgimage_url&&params.bgimage_url.length>0?caption[0].cb.css({backgroundImage:"url('"+params.bgimage_url+"')",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat}):caption[0].cb.css({backgroundImage:"",background:bgcolor});break;case"group":switch(mwidth){case"#1/1#":mwidth="100%";break;case"#1/2#":mwidth="50%";break;case"#1/3#":mwidth="33.333333%";break;case"#2/3#":mwidth="66.666666%";break;case"#1/4#":mwidth="25%";break;case"#3/4#":mwidth="75%";break;case"#1/5#":mwidth="20%";break;case"#2/5#":mwidth="40%";break;case"#3/5#":mwidth="60%";break;case"#4/5#":mwidth="80%";break;case"#1/6#":mwidth="16.666666%";break;case"#4/6#":mwidth="66.666666%";break;case"#5/6#":mwidth="83.333333%"}}void 0!==deform.overflow&&"group"===params.type||(deform.overflow="visible"),void 0==mwidth&&(mwidth=""),void 0==mheight&&(mheight=""),-1!==params.p_uid&&"column"===u.getObjLayerType(params.p_uid)?punchgs.TweenLite.set(caption,{position:"relative",display:u.getVal(params,"display"),top:"auto",left:"auto",right:"auto",bottom:"auto"}):"column"===params.type?punchgs.TweenLite.set(caption,{position:"absolute",display:"table-cell"}):punchgs.TweenLite.set(caption,{position:"absolute",display:"block"}),"column"===params.type&&(bgcolor="transparent"),mwidth=void 0===cmode||"custom"===cmode?jQuery.isNumeric(mwidth)?mwidth+"px":mwidth.match(/px/g)?parseInt(mwidth,0)+"px":mwidth.match(/%/g)?parseFloat(mwidth)+"%":mwidth:"fullwidth"===cmode||"cover"===cmode||"cover-proportional"===cmode?"100%":mwidth,mheight=void 0===cmode||"custom"===cmode?jQuery.isNumeric(mheight)?mheight+"px":mheight.match(/px/g)?parseInt(mheight,0)+"px":mheight.match(/%/g)?parseFloat(mheight,0)+"%":mheight:"fullheight"===cmode||"cover"===cmode||"cover-proportional"===cmode?"100%":mheight,caption[0].style.width=mwidth,caption[0].style.height=mheight,"row"===params.type&&(caption[0].style.minHeight=mheight);var fw=parseInt(u.getVal(ss,"font-weight"),0)||400,bgimage="";punchgs.TweenLite.set(inlayer,{clearProps:"all",visibility:"visible",opacity:1}),void 0!==params.bgimage_url&&params.bgimage_url.length>0&&"column"!==params.type?inlayer.css({backgroundImage:"url('"+params.bgimage_url+"')",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat}):inlayer.css({backgroundImage:"",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat});var inlay_object_anim={z:deform.z,scaleX:parseFloat(deform.scalex),scaleY:parseFloat(deform.scaley),textAlign:u.getVal(params,"text-align"),rotationX:parseFloat(deform.xrotate),rotationY:parseFloat(deform.yrotate),rotationZ:parseFloat(params["2d_rotation"]),skewX:parseFloat(deform.skewx),skewY:parseFloat(deform.skewy),transformPerspective:parseFloat(deform.pers),transformOrigin:params.layer_2d_origin_x+"%"+params.layer_2d_origin_y+"%",autoAlpha:deform.opacity,paddingTop:parseInt(u.getVal(params,"padding")[0],0)+"px",paddingRight:parseInt(u.getVal(params,"padding")[1],0)+"px",paddingBottom:parseInt(u.getVal(params,"padding")[2],0)+"px",paddingLeft:parseInt(u.getVal(params,"padding")[3],0)+"px",fontSize:parseInt(u.getVal(ss,"font-size"),0)+"px",lineHeight:parseInt(u.getVal(ss,"line-height"),0)+"px",fontWeight:fw,color:fontcolor,letterSpacing:parseInt(u.getVal(ss,"letter-spacing"),0)+"px",fontStyle:deformidle["font-style"],textDecoration:deform["text-decoration"],textTransform:deform["text-transform"],borderColor:bordercolor,borderRadius:deform["border-radius"][0]+" "+deform["border-radius"][1]+" "+deform["border-radius"][2]+" "+deform["border-radius"][3],borderWidth:deform["border-width"][0]+" "+deform["border-width"][1]+" "+deform["border-width"][2]+" "+deform["border-width"][3],borderStyle:deform["border-style"],whiteSpace:u.getVal(params,"whitespace"),maxWidth:"100%",maxHeight:"100%"};if(bgcolor.indexOf("gradient")>=0?inlay_object_anim.background=bgcolor:inlay_object_anim.backgroundColor=bgcolor,void 0!==deform.blurfilter&&parseInt(deform.blurfilter,0)>0||void 0!==deformhover.blurfilter&&parseInt(deformhover.blurfilter,0)>0){var bf="blur("+parseInt(deform.blurfilter,0)+"px)";inlay_object_anim["-webkit-filter"]=bf,inlay_object_anim.filter=bf}if(void 0!==deform.grayscalefilter&&parseInt(deform.grayscalefilter,0)>0||void 0!==deformhover.grayscalefilter&&parseInt(deformhover.grayscalefilter,0)>0){var gf="grayscale("+parseInt(deform.grayscalefilter,0)+"%)";inlay_object_anim["-webkit-filter"]=void 0===inlay_object_anim["-webkit-filter"]?gf:inlay_object_anim["-webkit-filter"]+" "+gf,inlay_object_anim.filter=void 0===inlay_object_anim.filter?gf:inlay_object_anim.filter+" "+gf}switch(deformidle["font-family"]&&(inlay_object_anim.fontFamily=deformidle["font-family"]),"group"===params.type&&punchgs.TweenLite.set(inlayer.find(".tp_layer_group_inner_wrapper").first(),{overflow:deform.overflow}),"row"===params.type&&punchgs.TweenLite.set(inlayer.find(".tp_layer_group_inner_wrapper").first(),{minHeight:mheight}),void 0!==params.layer_blend_mode&&jQuery.inArray(params.type,["image","shape","text","svg"]>=0)&&punchgs.TweenLite.set(inlayer.closest(".slide_layer"),{mixBlendMode:params.layer_blend_mode}),params.type){case"shape":case"svg":punchgs.TweenLite.set(caption,{marginTop:parseInt(u.getVal(params,"margin")[0],0)+"px",marginRight:parseInt(u.getVal(params,"margin")[1],0)+"px",marginBottom:parseInt(u.getVal(params,"margin")[2],0)+"px",marginLeft:parseInt(u.getVal(params,"margin")[3],0)+"px"});break;case"column":punchgs.TweenLite.set(caption.find(".column_background"),{borderTopWidth:parseInt(u.getVal(params,"margin")[0],0)+"px",borderRightWidth:parseInt(u.getVal(params,"margin")[1],0)+"px",borderBottomWidth:parseInt(u.getVal(params,"margin")[2],0)+"px",borderLeftWidth:parseInt(u.getVal(params,"margin")[3],0)+"px"}),inlay_object_anim.marginTop=parseInt(u.getVal(params,"margin")[0],0)+"px",inlay_object_anim.marginRight=parseInt(u.getVal(params,"margin")[1],0)+"px",inlay_object_anim.marginBottom=parseInt(u.getVal(params,"margin")[2],0)+"px",inlay_object_anim.marginLeft=parseInt(u.getVal(params,"margin")[3],0)+"px";break;default:punchgs.TweenLite.set(caption,{marginTop:parseInt(u.getVal(params,"margin")[0],0)+"px",marginRight:parseInt(u.getVal(params,"margin")[1],0)+"px",marginBottom:parseInt(u.getVal(params,"margin")[2],0)+"px",marginLeft:parseInt(u.getVal(params,"margin")[3],0)+"px"})}if("image"===params.type&&(params.scaleProportional?(punchgs.TweenLite.set(inlayer.find("img"),{width:"100%",height:"auto"}),inlay_object_anim.width="100%",inlay_object_anim.height="auto"):(punchgs.TweenLite.set(inlayer.find("img"),{width:"100%",height:"100%"}),inlay_object_anim.width="100%",inlay_object_anim.height="100%")),"video"===params.type&&(punchgs.TweenLite.set(inlayer.find(".slide_layer_video"),{width:"100%",height:"100%"}),inlay_object_anim.width="100%",inlay_object_anim.height="100%"),"svg"===params.type&&void 0!=params.svg){var svgstrokecolor=window.RevColor.get(params.svg["svgstroke-color"])||"transparent",svgstrokewidth=params.svg["svgstroke-width"]||0,svgstrokedasharray=params.svg["svgstroke-dasharray"]||0,svgstrokedashoffset=params.svg["svgstroke-dashoffset"]||0;punchgs.TweenLite.set(inlayer.find("svg"),{fill:fontcolor,stroke:svgstrokecolor,strokeWidth:svgstrokewidth,strokeDasharray:svgstrokedasharray,strokeDashoffset:svgstrokedashoffset}),punchgs.TweenLite.set(inlayer.find("svg path"),{fill:fontcolor})}if(punchgs.TweenLite.set(inlayer,inlay_object_anim),void 0!=params.inline&&void 0!=params.inline.idle&&jQuery.each(params.inline.idle,function(e,t){inlayer.css(e,t)}),params.hover===!0){deform=params["deformation-hover"];var fontcolor=window.RevColor.get(deform.color),fonttrans=deform["color-transparency"],bgcolor=window.RevColor.get(deform["background-color"]),bgtrans=deform["background-transparency"],bordercolor=deform["border-color"],bordertrans=deform["border-transparency"];if(Number(bordertrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bordercolor);bordercolor="rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+bordertrans+")"}var tl=new punchgs.TimelineLite;tl.pause();var hoverspeed=parseFloat(deform.speed)/1e3;hoverspeed=0===hoverspeed?.001:hoverspeed;var hover_object_anim={scaleX:parseFloat(deform.scalex),scaleY:parseFloat(deform.scaley),rotationX:parseFloat(deform.xrotate),rotationY:parseFloat(deform.yrotate),rotationZ:parseFloat(deform["2d_rotation"]),skewX:parseFloat(deform.skewx),skewY:parseFloat(deform.skewy),autoAlpha:deform.opacity,color:fontcolor,textDecoration:deform["text-decoration"],borderColor:bordercolor,borderRadius:parseInt(deform["border-radius"][0],0)+"px "+parseInt(deform["border-radius"][1],0)+"px "+parseInt(deform["border-radius"][2],0)+"px "+parseInt(deform["border-radius"][3],0)+"px",borderWidth:parseInt(deform["border-width"][0],0)+"px "+parseInt(deform["border-width"][1],0)+"px "+parseInt(deform["border-width"][2],0)+"px "+parseInt(deform["border-width"][3],0)+"px",borderStyle:deform["border-style"],onComplete:function(){params.inline&&void 0!=params.inline.hover&&jQuery.each(params.inline.hover,function(e,t){inlayer.css(e,t)})},ease:deform.easing};if(bgcolor.indexOf("gradient")>=0?hover_object_anim.background=bgcolor:hover_object_anim.backgroundColor=bgcolor,void 0!==deform.blurfilter&&parseInt(deform.blurfilter,0)>0||void 0!==deformidle.blurfilter&&parseInt(deformidle.blurfilter,0)>0){var bf="blur("+parseInt(deform.blurfilter,0)+"px)";hover_object_anim["-webkit-filter"]=bf,hover_object_anim.filter=bf}if(void 0!==deform.grayscalefilter&&parseInt(deform.grayscalefilter,0)>0||void 0!==deformidle.grayscalefilter&&parseInt(deformidle.grayscalefilter,0)>0){var gf="grayscale("+parseInt(deform.grayscalefilter,0)+"%)";hover_object_anim["-webkit-filter"]=void 0===hover_object_anim["-webkit-filter"]?gf:hover_object_anim["-webkit-filter"]+" "+gf,hover_object_anim.filter=void 0===hover_object_anim.filter?gf:hover_object_anim.filter+" "+gf}if(tl.add(punchgs.TweenLite.to(inlayer,hoverspeed,hover_object_anim)),"svg"===params.type&&void 0!=params.svg){var svgstrokecolor=window.RevColor.get(params.svg["svgstroke-hover-color"])||"transparent",svgstrokewidth=params.svg["svgstroke-hover-width"]||0,svgstrokedasharray=params.svg["svgstroke-hover-dasharray"]||0,svgstrokedashoffset=params.svg["svgstroke-hover-dashoffset"]||0;tl.add(punchgs.TweenLite.to(inlayer.find("svg"),hoverspeed,{fill:fontcolor,stroke:svgstrokecolor,strokeWidth:svgstrokewidth,strokeDasharray:svgstrokedasharray,strokeDashoffset:svgstrokedashoffset,ease:deform.easing}),0),tl.add(punchgs.TweenLite.to(inlayer.find("svg path"),hoverspeed,{fill:fontcolor}),0)}inlayer.data("hoveranim",tl),void 0!==caption.data("hoverexist")&&caption.data("hoverexist")!==!1||(caption.hover(function(){if(jQuery("#rs-style-tab-button").hasClass("selected")&&jQuery("#toggle-idle-hover").hasClass("idleisselected")){var e=jQuery(this).find(".innerslide_layer").first();if(e.length>0&&void 0!=e.data("hoveranim")){var t=e.data("hoveranim");t.play(0)}}},function(){if(jQuery("#rs-style-tab-button").hasClass("selected")&&jQuery("#toggle-idle-hover").hasClass("idleisselected")){var e=jQuery(this).find(".innerslide_layer").first();if(e.length>0&&void 0!=e.data("hoveranim")){var t=e.data("hoveranim");t.reverse()}}}),caption.data("hoverexist",!0)),document.getElementById("toggle-idle-hover").classList.contains("hoverisselected")?tl.seek(tl.endTime()):(tl.seek(0),tl.pause(0),setTimeout(function(){tl.pause(0)},109))}else caption.unbind("hover"),caption.data("hoverexist",!1)}},t.animateCurrentSelectedLayer=function(e){u.removeCurrentLayerRotatable();var t=jQuery(".slide_layer.layer_selected").find(".innerslide_layer").first();if(0==t.length)return!1;if(void 0==t.data("tl"))var a=new punchgs.TimelineLite;else var a=t.data("tl");a.clear(),a.kill(),a.pause(),t.data("inanim",theLayerInAnimation(t)),t.data("outanim",theLayerOutAnimation(t)),a.addLabel("inanimation"),a.add(t.data("inanim"),"=+0.2"),a.addLabel("outanimation"),a.add(punchgs.TweenLite.fromTo(jQuery("#startanim_timerunner"),1,{x:0,y:0},{y:41}),"outanimation"),a.add(punchgs.TweenLite.fromTo(jQuery("#startanim_timerunnerbox"),1,{x:0,y:0},{y:41}),"outanimation"),a.add(punchgs.TweenLite.fromTo(jQuery("#endanim_timerunnerbox"),1,{x:0,y:-41},{x:0,y:0}),"outanimation"),a.add(punchgs.TweenLite.fromTo(jQuery("#endanim_timerunner"),1,{x:0,y:-41},{y:0}),"outanimation"),a.add(punchgs.TweenLite.set(jQuery("#endanim_wrapper"),{width:67,autoAlpha:1}),"outanimation"),a.add(t.data("outanim")),a.eventCallback("onComplete",function(){a.restart()}),a.play(),t.data("tl",a)};var checkAnimValue=function(e,t,a,r,i){var o=e,n=t;if(jQuery.isNumeric(parseFloat(o)))return parseFloat(o);if(void 0===o||"inherit"===o)return n;if(o.split("{").length>1){var s=o.split(",");if(max=s[1].split("}")[0],s=s[0].split("{")[1],void 0!==i&&i>1){o="["+(parseInt(Math.random()*(max-s),0)+parseInt(s,0));for(var l=0;i>l;l++)o=o+"|"+(parseInt(Math.random()*(max-s),0)+parseInt(s,0));o+="]"}else o=Math.random()*(max-s)+s;return o}var d=jQuery("#divLayers").width(),c=jQuery("#divLayers").height(),u=a.closest(".slide_layer"),m=u.width(),p=u.height(),f=u.position();if(o.match(/%]/g))o=o.split("[")[1].split("]")[0],"horizontal"==r?o=m*parseInt(o,0)/100:"vertical"==r&&(o=p*parseInt(o,0)/100);else switch(o.toLowerCase()){case"top":case"stage_top":o=0-p-f.top;break;case"bottom":case"stage_bottom":o=c;break;case"stage_left":case"left":o=0-m-f.left;break;case"right":case"stage_right":o=d;break;case"center":case"stage_center":o=d/2-f.left-m/2;break;case"middle":case"stage_middle":o=c/2-f.top-p/2;break;case"layer_top":o=0-p;break;case"layer_bottom":o=p;break;case"layer_left":o=0-m;break;case"layer_right":o=m;break;case"layer_center":o=m/2;break;case"layer_middle":o=p/2}return o},initSlideDuration=function(){var e=jQuery("#delay").val();void 0!=e&&0!=e&&"undefined"!=e||(e=g_slideTime),jQuery("#mastertimer-maxtime").css({left:e/10})};t.masterTimerPositionChange=function(e){var a=jQuery(document.getElementById("mastertimer-position")),r=(a[0].getBoundingClientRect().left-document.getElementById("master-rightheader").getBoundingClientRect().left+t.timercorrectur)/100,i=jQuery(document.getElementById("divbgholder")).data("slidetimeline");if(a[0].className=a[0].classList.contains("hovering")?a[0].className:a[0].className+" hovering",0>=r&&("wasnotidle"==a.data("wasidle")||void 0==a.data("wasidle"))&&(t.stopAllLayerAnimation(),a.data("wasidle","wasidle"),void 0!=a.data("tl")&&a.data("tl").kill(),void 0!=i&&(i.stop(),i.seek(1e5)),t.allLayerToIdle()),r>0&&("wasidle"==a.data("wasidle")||void 0==a.data("wasidle"))&&(a.data("wasidle","wasnotidle"),createGlobalTimeline(!0),document.getElementById("mastertimer-playpause-wrapper").innerHTML='<i class="eg-icon-play"></i><span>PLAY</span>',a[0].className=a[0].classList.contains("inaction")?a[0].className:a[0].className+" inaction"),r>0&&"wasnotidle"==a.data("wasidle")){e&&createGlobalTimeline(!1);var o=a.data("tl");o.stop(),i.stop(),o.seek(r),i.seek(r)}if(r>0){var n=document.getElementById("mastertimer-poscurtime");n.className=n.classList.contains("movedalready")?n.className:n.className+" movedalready",n.innerHTML=t.convToTime(100*r),a.removeClass("timerinidle")}else{var n=document.getElementById("mastertimer-poscurtime");n.classList.contains("movedalready")&&(n.innerHTML="Idle",a.addClass("timerinidle"))}a.trigger("poschanged")},t.convToTime=function(e){var t=Math.floor(e/6e3),a=Math.floor(Math.ceil(e-6e3*t)/100),r=Math.round(e-100*a-6e3*t);return 0==t?t="00":10>t&&(t="0"+t.toString()),0==a?a="00":10>a&&(a="0"+a.toString()),0==r?r="00":10>r&&(r="0"+r.toString()),t.toString()+":"+a.toString()+"."+r.toString()},t.allLayerToIdle=function(e){var a=void 0!=e&&void 0!=e.type?"slide_layer_type_"+e.type:"slide_layer";elements=document.getElementsByClassName(a);for(var r=0;r<elements.length;r++)t.rebuildLayerIdle(jQuery(elements[r]))};var initMasterTimer=function(){function e(){__coffset=parseInt(jQuery("#layers-right").offset().left,0)}jQuery("#master-rightheader"),jQuery("#mastertimer-position").on("poschanged",function(){var e=jQuery(this),a=Math.round(e.position().left+t.timercorrectur),r=t.convToTime(a);0>a&&(r="IDLE"),document.getElementById("master-timer-time").innerHTML=r}),jQuery("#mastertimer-backtoidle").click(function(){jQuery("#mastertimer-position").removeClass("inaction"),document.getElementById("mastertimer-playpause-wrapper").innerHTML='<i class="eg-icon-play"></i><span>PLAY</span>',document.getElementById("master-timer-time").innerHTML="IDLE",t.stopAllLayerAnimation();var e=jQuery("#mastertimer-position"),a=jQuery("#divbgholder").data("slidetimeline");e.css({left:"-15px"}),void 0!=e.data("tl")&&e.data("tl").kill(),void 0!=a&&(a.stop(),a.seek(1e5)),t.allLayerToIdle()}),jQuery("#divLayers").hover(function(){var e=jQuery(document.getElementById("mastertimer-position")),a=document.getElementById("mastertimer-playpause-wrapper"),r=jQuery(document.getElementById("divbgholder")).data("slidetimeline");void 0!=e.data("tl")&&e.data("tl").stop(),void 0!=r&&(r.stop(),r.seek(1e5)),e.removeClass("inaction"),a.innerHTML='<i class="eg-icon-play"></i><span>PLAY</span>',e.hasClass("hovering")&&(e.removeClass("hovering"),t.stopAllLayerAnimation(),t.allLayerToIdle(),jQuery("#layeranimation-playpause").hasClass("inpuase")||t.checkAnimationTab()&&t.animateCurrentSelectedLayer(1),jQuery("#loopanimation-playpause").hasClass("inpuase")||t.checkLoopTab()&&t.animateCurrentSelectedLayer(2))}),jQuery("#mastertimer-wrapper").hover(function(){jQuery(this).hasClass("overme")||(jQuery(this).addClass("overme"),t.masterTimerPositionChange(!0))},function(){jQuery(this).removeClass("overme")}),jQuery("#mastertimer-position").draggable({axis:"x",start:function(e,a){punchgs.TweenLite.set(document.getElementById("mastertimer-curtime"),{autoAlpha:0,x:-3,y:-10}),punchgs.TweenLite.set(document.getElementById("mastertimer-curtime-b"),{autoAlpha:0}),t.deactivatePerfectScrollBars()},drag:function(e,a){a.position.left=Math.max(-15,a.position.left),t.masterTimerPositionChange(!1)},stop:function(e,t){punchgs.TweenLite.set(document.getElementById("mastertimer-curtime"),{autoAlpha:1,x:-1,y:0,ease:punchgs.Power2.easeInOut}),punchgs.TweenLite.set(document.getElementById("mastertimer-curtime-b"),{autoAlpha:1})}}),jQuery("#mastertimer-linear").click(function(e){var a=jQuery("#mastertimer-linear").offset().left,r=jQuery("#master-rightheader").scrollLeft();jQuery("#mastertimer-position").css({left:e.pageX-a+r+"px"}),t.masterTimerPositionChange()}),jQuery("#mastertimer-maxtime").draggable({axis:"x",containment:"#master-rightheader",create:function(e,a){t.mainMaxTimeLeft=jQuery("#mastertimer-maxtime").position().left,document.getElementById("mastertimer-maxcurtime").innerHTML=t.convToTime(t.mainMaxTimeLeft),t.setIdleZones()},start:function(e,a){punchgs.TweenLite.set(document.getElementById("mastertimer-curtime"),{autoAlpha:0,x:-3,y:-10}),punchgs.TweenLite.set(document.getElementById("mastertimer-curtime-b"),{autoAlpha:0}),document.getElementById("mastertimer-maxcurtime").innerHTML=t.convToTime(t.mainMaxTimeLeft),t.setIdleZones(),t.deactivatePerfectScrollBars()},drag:function(e,a){t.mainMaxTimeLeft=a.position.left,document.getElementById("mastertimer-maxcurtime").innerHTML=t.convToTime(t.mainMaxTimeLeft),document.getElementById("delay").value=10*t.mainMaxTimeLeft,t.setIdleZones(),t.compareLayerEndsVSSlideEnd(),t.setSlideTransitionTimerBar()},stop:function(e,a){punchgs.TweenLite.set(document.getElementById("mastertimer-curtime"),{autoAlpha:1,x:-1,y:0,ease:punchgs.Power2.easeInOut}),punchgs.TweenLite.set(document.getElementById("mastertimer-curtime-b"),{autoAlpha:1}),t.mainMaxTimeLeft=a.position.left,document.getElementById("mastertimer-maxcurtime").innerHTML=t.convToTime(t.mainMaxTimeLeft),document.getElementById("delay").value=10*t.mainMaxTimeLeft,t.setIdleZones(),g_slideTime=10*t.mainMaxTimeLeft,u.setMaintime(g_slideTime),t.compareLayerEndsVSSlideEnd(),t.rerenderAllAudioMap(),t.setSlideTransitionTimerBar()}}),__ctime=jQuery("#mastertimer-curtime"),__ctimeb=jQuery("#mastertimer-curtime-b"),__ctimei=jQuery("#mastertimer-curtimeinner"),jQuery(window).resize(function(){e()}),e(),__ctime.data("offset",0),jQuery(".master-rightcell").on("mousemove",function(e){var a=e.pageX-__coffset-jQuery(document.getElementById("master-rightheader")).data("left");0==__ctime.data("offset")&&(punchgs.TweenLite.set(__ctime,{left:a}),punchgs.TweenLite.set(__ctimeb,{left:a+15}),__ctimei[0].innerHTML=t.convToTime(a-10))}),jQuery("#mastertimer-playpause-wrapper").click(function(){var e=jQuery(this);if(punchgs.TweenLite.to(jQuery("#mastertimer-poscurtime"),.3,{autoAlpha:0,x:-3,y:-10,ease:punchgs.Power2.easeInOut}),e.find(".eg-icon-pause").length>0){document.getElementById("mastertimer-playpause-wrapper").innerHTML='<i class="eg-icon-play"></i><span>PLAY</span>',t.stopAllLayerAnimation();var a=jQuery("#mastertimer-position");void 0!=a.data("tl")&&a.data("tl").kill()}else{createGlobalTimeline(!0),document.getElementById("mastertimer-playpause-wrapper").innerHTML='<i class="eg-icon-pause"></i><span>PAUSE</span>',jQuery("#mastertimer-position").addClass("inaction");var a=jQuery("#mastertimer-position"),r=a.data("tl"),i=jQuery("#divbgholder").data("slidetimeline"),o=a.position().left/100;r.play(o),i.play(o),jQuery("#divbgholder").data("slidetimeline").play(o),r.eventCallback("onComplete",function(){r.play(0),i.play(0)}),r.eventCallback("onUpdate",function(){a.css({left:100*r.time()}),a.trigger("poschanged")})}})};t.setIdleZones=function(){for(var e=document.getElementsByClassName("slide-idle-section"),a=0;a<e.length;a++)e[a].style.left=t.mainMaxTimeLeft+15+"px"};var setFakeAnim=function(){var e=!1,t=jQuery(".slide-trans-cur-ul li").first(),a=t.data("animval"),r=t.text();return"random-selected"!=a&&"random"!=a&&"random-static"!=a&&"random-premium"!=a||(a="fade",r="Fade"),document.getElementById("fake-select-label").innerHTML='"'+r+'"',jQuery("#fake-select-label").data("valu",a),removeAllSlots(),slideAnimation(),(e=!0)?!1:void 0};t.setSlideTransitionTimerBar=function(){var e=document.getElementById("slide_in_sort_time"),a=e.getElementsByClassName("timeline_frame")[0],r=e.getElementsByClassName("timeline_full")[0],i=document.getElementById("transition_duration")?document.getElementById("transition_duration").value:0,o=e.getElementsByClassName("duration_cont")[0];o.innerHTML=i,jQuery.isNumeric(i)||(i=500),punchgs.TweenLite.set(a,{width:i/10}),punchgs.TweenLite.set(r,{left:15,width:t.mainMaxTimeLeft})};var addSlideToSortbox=function(){t.setSlideTransitionTimerBar();var e=document.getElementById("slide_in_sort_time"),a=e.getElementsByClassName("timeline_frame")[0],r=e.getElementsByClassName("duration_cont")[0];jQuery(a).resizable({minWidth:0,handles:"e",start:function(e,t){},stop:function(e,a){document.getElementById("transition_duration").value=10*a.size.width,r.innerHTML=10*a.size.width,jQuery(".slide-trans-cur-ul li.selected").data("duration",10*a.size.width),t.resetSlideAnimations(!0);
},resize:function(e,t){document.getElementById("transition_duration").value=10*t.size.width,jQuery(".slide-trans-cur-ul li.selected").data("duration",10*t.size.width),r.innerHTML=10*t.size.width}})};t.rerenderAllAudioMap=function(){jQuery.each(u.arrLayers,function(e,a){"audio"==a.type&&t.drawAudioMap(a)})},t.drawAudioMap=function(e){var t=e.references.sorttable.timeline;return t.data("lastaudio")==e.video_data.urlAudio&&void 0!=t.data("audiobuffer")?displayAudioBuffer(e,t.data("audiobuffer")):loadMusicTimeLine(e,e.video_data.urlAudio),t.data("lastaudio",e.video_data.urlAudio),AudioContext?void 0:(console.log("Audio Map cannot be drawn  in your Browser. Try a recent Chrome or Firefox. "),!1)},t.addToSortbox=function(e,a){if(1===document.getElementById("layers-right-ul").children.length&&addSlideToSortbox(),void 0===e)return!1;var r="",i=(t.isLayerVisible(a.references.htmlLayer),""),o="",n=t.getSortboxText(a.alias),s=Number(a.order)+5,l="",d="";switch(visibleclass="in-on",groupLink=void 0!==a.groupLink?a.groupLink:0,a.type){case"group":i=" sortable_elements sortable_group",o=" droppable_sortable_group";break;case"row":i="  sortable_elements sortable_group sortable_row",o=" droppable_sortable_row";break;case"column":i=" sortable_elements sortable_column",o=" droppable_sortable_column";break;default:i=" sortable_elements sortable_layers"}switch(a.deleted&&(i+=" layer-deleted"),l+='<li data-uniqueid="'+a.unique_id+'" id="layer_sort_'+e+'" data-type="'+a.type+'" class="mastertimer-layer ui-state-default'+i+'" data-grouptype="'+a.grouptype+'" data-pid="'+a.p_uid+'">',l+='	<div class="layer_sort_inner_wrapper '+o+'">',l+='		<span class="mastertimer-timeline-selector-row tipsy_enabled_top" title="Select Layer in Timeline">',l+='			<input data-uniqueid="'+a.unique_id+'"  id="lots_id_'+a.unique_id+'" class="layer-on-timeline-selector" style="margin:0px" type="checkbox"/>',l+="		</span>",l+='		<span data-uniqueid="'+a.unique_id+'" class="list-of-layer-links tipsy_enabled_top" title="Choose Layers Group Link">',l+='			<span class="layer-link-type-element layer-link-type-element-cs layer-link-type-'+groupLink+'"></span>',l+='			<span class="list-of-layer-links-inner">',l+='				<span data-linktype="1" class="layer-link-type-element layer-link-type-1"></span>',l+='				<span data-linktype="2" class="layer-link-type-element layer-link-type-2"></span>',l+='				<span data-linktype="3" class="layer-link-type-element layer-link-type-3"></span>',l+='				<span data-linktype="4" class="layer-link-type-element layer-link-type-4"></span>',l+='				<span data-linktype="5" class="layer-link-type-element layer-link-type-5"></span>',l+='				<span data-linktype="0" class="layer-link-type-element layer-link-type-0"></span>',l+="			</span>",l+="		</span>","column"!=a.type?"row"!==a.type?(l+='	<span  class="mastertimer-timeline-zindex-row tipsy_enabled_top" title="z-Index">',l+='		<i style="margin-left:15px;margin-right:0px;" class="layersortclass eg-icon-sort"></i>',l+='		<span class="sortbox_depth" title="z-Index">'+s+"</span>",l+="	</span>"):l+='	<span  class="mastertimer-timeline-zindex-row tipsy_enabled_top" style="cursor:default !important" title="z-Index"></span>':l+=' 	<span class="column_sort_row_spacer"></span>',l+='		<span class="mastertimer-timeline-tillendcontainer" style="">',l+='			<span data-uniqueid="'+a.unique_id+'" data-serial="'+e+'" class="till_slideend tipsy_enabled_top '+r+'" title="Wait till Slides End / Custom End"><i class="eg-icon-back-in-time"></i><i class="eg-icon-download-2"></i></span>',l+="		</span>",l+='		<span class="sort-hover-part layer_sort_layer_text_field">',l+='			<span class="sortbox_text"><i class="layertypeclass ',a.type){case"group":l+="fa-icon-object-group";break;case"row":l+="rs-icon-layergroup";break;case"column":l+="rs-icon-layercolumns";break;case"text":l+="rs-icon-layerfont";break;case"image":l+="rs-icon-layerimage";break;case"video":l+="rs-icon-layervideo";break;case"audio":l+="rs-icon-layeraudio";break;case"button":l+="rs-icon-layerbutton";break;case"shape":l+="rs-icon-layershape";break;case"svg":l+="rs-icon-layersvg"}l+='"></i>',l+='				<input class="timer-layer-text" style="margin-top:-1px !important" type="text" enabled value="'+n+'">',l+="			</span>",l+="		</span>","group"!=a.type&&"row"!=a.type&&"column"!=a.type||(l+='		<span class="sort_group_collapser"><i class="eg-icon-down-dir"></i><i class="eg-icon-right-dir"></i></span>'),"column"!=a.type&&(l+='		<span class="timer-manual-edit"><i class="eg-icon-pencil"></i></span>'),l+="	</div>","group"!=a.type&&"row"!=a.type||(l+='<ul id="sortable_group_'+a.unique_id+'" class="sortable_groups_wrap sgw_def"></ul>'),"column"==a.type&&(l+='<ul id="sortable_columns_'+a.unique_id+'" class="sortable_layers_in_columns sgw_def"></ul>'),l+="</li>";var c="";void 0!=a.p_uid&&-1!==a.p_uid&&"row"!==a.type&&"group"!==a.type&&(c=" quick_in_group"),"row"===a.type&&(c+=" quick_in_row"),d+='<li id="layer_quicksort_'+e+'" data-serial="'+e+'" class="quicksortlayer ui-state-default layer-toolbar-li'+c+'">';var u='<span class="quick-edit-toolbar-in-list">';switch(a.type){case"text":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layerfont_n"></i>',u+='<span id="button_edit_layer_'+e+'" class="button_edit_layer layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span id="button_reset_size_'+e+'" class="button_reset_size layer-short-tool revblue"><i class="eg-icon-resize-normal"></i></span>';break;case"group":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="fa-icon-object-group"></i>',u+='<span  class="layer-short-tool revdarkgray"></span>',u+='<span  class="layer-short-tool revdarkgray"></span>';break;case"row":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layergroup_n"></i>',u+='<span  class="layer-short-tool revdarkgray"></span>',u+='<span  class="layer-short-tool revdarkgray"></span>';break;case"column":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layercolumns_n"></i>',u+='<span  class="layer-short-tool revdarkgray"></span>',u+='<span  class="layer-short-tool revdarkgray"></span>',u+='<span  class="layer-short-tool revdarkgray"></span>',u+='<span  class="layer-short-tool revdarkgray"></span>';break;case"shape":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layershape_n"></i>',u+='<span id="button_edit_shape_'+e+'" class="button_edit_shape layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span  class="layer-short-tool revdarkgray"></span>';break;case"button":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layerbutton_n"></i>',u+='<span id="button_edit_layer_'+e+'" class="button_edit_layer layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span id="button_reset_size_'+e+'" class="button_reset_size layer-short-tool revblue"><i class="eg-icon-resize-normal"></i></span>';break;case"image":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layerimage_n"></i>',u+='<span  id="button_change_image_source_'+e+'" class="button_change_image_source layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span id="button_reset_size_'+e+'" class="button_reset_size layer-short-tool revblue"><i class="eg-icon-resize-normal"></i></span>';break;case"video":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layervideo_n"></i>',u+='<span  id="button_change_video_settings_'+e+'" class="button_change_video_settings layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span  class="layer-short-tool revdarkgray"></span>';break;case"audio":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layeraudio_n"></i>',u+='<span  id="button_changeaudio_settings_'+e+'" class="button_change_audio_settings layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span  class="layer-short-tool revdarkgray"></span>',i=" layer-sort-audio-item";break;case"svg":d+='<span class="layer-short-tool revdarkgray layer-title-with-icon"><i class="rs-icon-layersvg_n"></i>',u+='<span  id="button_changesvg_settings_'+e+'" class="button_change_svg_settings layer-short-tool revblue"><i class="eg-icon-pencil"></i></span>',u+='<span  class="layer-short-tool revdarkgray"></span>'}d+='<input type="text" class="layer-title-in-list" value="'+n+'"></span>',d+=u,"column"!==a.type&&(d+='<span id="button_delete_layer_'+e+'" class="button_delete_layer layer-short-tool revred"><i class="rs-lighttrash"></i></span>',d+='<span id="button_duplicate_layer_'+e+'" class="button_duplicate_layer layer-short-tool revyellow" data-isstatic=""><i class="rs-lightcopy"></i></span>'),d+='<span style="display:block;float:none;clear:both"></span></span>',d+='<span class="quick-layer-view layer-short-tool revdarkgray '+visibleclass+'"><i class="eg-icon-eye"></i></span>',d+='<span class="quick-layer-lock layer-short-tool revdarkgray"><i class="eg-icon-lock-open"></i></span>',d+='<div style="clear:both;display:block"></div>',d+="</li>",document.getElementById("quick-layers-list-id").childNodes.length>1&&(document.getElementById("nolayersavailable").style.display="none");var m="",p="logical_o"===a.grouptype?" hide_timeline":"";m+='<li data-uniqueid="'+a.unique_id+'" data-serial="'+e+'" id="layer_sort_time_'+e+'" class="sortable_elements mastertimer-layer ui-state-default'+i+p+'" data-grouptype="'+a.grouptype+'" data-pid="'+a.p_uid+'">',m+='		<div class="timeline_full"></div>',m+='  <div class="timeline">',m+='  	<div class="timeline-relative-marker trm-groupandrowmarker"></div>',m+='		<div data-frameindex="0" id="tl_'+a.unique_id+'_frame_0" class="timeline_frame tf_startframe tl_layer_frame" data-uniqueid="'+a.unique_id+'" data-serial="'+e+'" style="z-index:50;">',m+=' 			<span class="timebefore_cont"></span>',m+='			<div class="tl_speed_wrapper">',m+='				<div class="tlf_speed"><span class="duration_cont"></span></div>',m+='				<div class="tlf_splitdelay"></div>',m+="			</div>",m+='			<span class="show_timeline_helper">EDIT</span>',m+="		</div>",m+='		<div data-frameindex="999" id="tl_'+a.unique_id+'_frame_999" class="timeline_frame tf_endframe tl_layer_frame" data-uniqueid="'+a.unique_id+'" data-serial="'+e+'" style="z-index:48;">',m+=' 			<span class="timebefore_cont"></span>',m+='			<div class="tl_speed_wrapper">',m+='				<div class="tlf_speed"><span class="duration_cont"></span></div>',m+='				<div class="tlf_splitdelay"></div>',m+="			</div>",m+='			<span class="show_timeline_helper">EDIT</span>',m+="		</div>",m+=" </div>",m+=' <div class="slide-idle-section"></div>',m+="</li>";var f=!0;"row"===a.type&&document.getElementById("layers-left-ul").getElementsByClassName("sortable_row").length>0&&(f=!1,document.getElementById("layers-left-ul").getElementsByClassName("sortable_row")[0].insertAdjacentHTML("afterend",l),document.getElementById("quick-layers-list-id").getElementsByClassName("quick_in_row")[0].insertAdjacentHTML("afterend",d),document.getElementById("layers-right-ul").getElementsByClassName("sortable_row")[0].insertAdjacentHTML("afterend",m)),f&&(document.getElementById("layers-left-ul").insertAdjacentHTML("beforeend",l),document.getElementById("quick-layers-list-id").insertAdjacentHTML("beforeend",d),document.getElementById("layers-right-ul").insertAdjacentHTML("beforeend",m)),jQuery("#layer_quicksort_"+e).on("mouseenter",function(e){jQuery(".layer_due_list_element_selected").removeClass("layer_due_list_element_selected"),jQuery("#slide_layer_"+jQuery(this).data("serial")).addClass("layer_due_list_element_selected")}),jQuery("#layer_quicksort_"+e).on("mouseleave",function(e){jQuery(".layer_due_list_element_selected").removeClass("layer_due_list_element_selected")}),jQuery("#layers-left .tipsy_enabled_top").tipsy({gravity:"s",delayIn:70}),reinitSortBox();var h=document.getElementById("layer_sort_time_"+e),y=jQuery(h),g=h.getElementsByClassName("timeline")[0];jQuery(g),a.references.sorttable=void 0===a.references.sorttable?{}:a.references.sorttable,a.references.sorttable.layer=jQuery(document.getElementById("layer_sort_"+e)),a.references.sorttable.timeline=y,a.references.quicklayer=jQuery(document.getElementById("layer_quicksort_"+e)),"audio"==a.type&&(y.data("objref",a),t.drawAudioMap(a),y.on("mousemove",function(e){try{var t=jQuery(this),a=t.data("objref"),r=t.data("serial"),i=jQuery("#slide_layer_"+r+" audio")[0];if(!t.hasClass("ui-state-hover"))return!1;clearTimeout(t.data("audiopreview")),t.find(".audio-progress").remove(),i.pause(),t.data("audiopreview",setTimeout(function(){var r=t.find(".timeline_full"),o=r.position().left,n=r.width(),s=e.pageX-t.offset().left,l=s-o;if(!(o>s||s>o+n)){t.find(".audio-progress").remove(),t.append('<div class="audio-progress"></div>');var d=t.find(".audio-progress"),c=getStartSec(a.video_data.start_at),u=getStartSec(a.video_data.end_at);c=-1==c?0:c,u=-1==u?999999999:u,c/=60,u/=60,u=u>i.duration?i.duration:u;var m=u-c,p=Math.floor(l/(100*m));l>100*m&&(l-=100*m*p),l>0&&(restw=100*(m-l/100),punchgs.TweenLite.fromTo(d,m-l/100,{left:o+l+p*(100*m),transformOrigin:"0% 50%",width:restw,scaleX:0},{scale:1,ease:punchgs.Linear.easeNone,onUpdate:function(){},onComplete:function(){i.pause()}})),l>0&&(i.play(),i.currentTime=l/100)}},400))}catch(e){}}),y.on("mouseleave",function(e){try{var t=jQuery(this),a=t.data("serial"),r=jQuery("#slide_layer_"+a+" audio")[0];clearTimeout(t.data("audiopreview")),t.find(".audio-progress").remove(),r.pause()}catch(e){}}));for(var v=h.getElementsByClassName("timeline_frame"),b=0;b<v.length;b++)jQuery(v[b]).resizable({handles:"e,w",minWidth:1,create:function(e,a){var r=this;t.setTLFrame(r),setTimeout(function(){t.frameLimitations(r)},25)},start:function(e,a){t.deactivatePerfectScrollBars(),t.updateTLFrame(this,"trigger",void 0,a.size.width)},resize:function(e,a){t.updateTLFrame(this,"trigger",void 0,a.size.width)},stop:function(e,a){t.updateTLFrame(this,"trigger")}}),jQuery(v[b]).draggable({axis:"x",start:function(e,a){t.recordFrameStatus(this,a)},drag:function(e,a){t.frameLimitations(this,a),t.updateTLFrame(this,"trigger"),t.updateAllSelectedLayerTimeline(this)},stop:function(e,a){t.frameLimitations(this,a),t.updateTLFrame(this,"trigger"),t.updateAllSelectedLayerTimeline(this)}});t.resetTimeLineHeight(),t.setIdleZones()},t.deactivatePerfectScrollBars=function(){jQuery(".revolution-template-groups").perfectScrollbar("destroy")},t.activatePerfectScrollBars=function(){jQuery(".revolution-template-groups").perfectScrollbar()};var checkTillSlideEnd=function(e){var a=10*t.mainMaxTimeLeft,r=document.getElementById("layer_sort_"+e.serial);e.frames.frame_999.time>=a?(e.endWithSlide=!0,r.classList.contains("tillendon")||(r.className+=" tillendon")):(e.endWithSlide=!1,jQuery(r).removeClass("tillendon"))};t.setTLFrame=function(e){var a=e.getElementsByClassName("tlf_speed")[0],r=e.getElementsByClassName("tlf_splitdelay")[0],i=e.getElementsByClassName("duration_cont")[0],o=e.getElementsByClassName("timebefore_cont")[0],n=e.parentNode.parentNode.getElementsByClassName("timeline-relative-marker")[0],e=jQuery(e),s=u.getLayerByUniqueId(e.data("uniqueid")),l=u.checkLayerTriggered(s),d=u.getObjectLength(s.frames);s.frames.frame_0.time=Math.max(0,s.frames.frame_0.time),s.frames.frame_999.time=Math.min(10*t.mainMaxTimeLeft,s.frames.frame_999.time);var c=e.data("frameindex"),m=s.frames["frame_"+c].speed,p=s.frames["frame_"+c].time,f=getSplitCounts(s.text,s.frames["frame_"+c].split,s.frames["frame_"+c].splitdelay),h=p;if(s.frames["frame_"+c].split_extratime=f,0!==f?(punchgs.TweenLite.set(a,{width:m/10-f}),punchgs.TweenLite.set(r,{width:f})):(punchgs.TweenLite.set(a,{width:m/10}),punchgs.TweenLite.set(r,{width:0})),punchgs.TweenLite.set(e,{left:p/10,width:f+m/10}),i.innerHTML=m,void 0!==s.p_uid&&-1!==s.p_uid&&void 0!==u.getLayerByUniqueId(s.p_uid)&&"object"==typeof u.getLayerByUniqueId(s.p_uid)){var y=u.getLayerByUniqueId(s.p_uid);n.style.display="block",n.style.width=y.frames.frame_0.time/10-1+"px",h=p-y.frames.frame_0.time}else if(n.style.display="none",n.style.width="0px",0!==c){var g=999===c?s.frames["frame_"+(d-2)]:s.frames["frame_"+(c-1)];void 0!==g&&(h=p-(g.time+g.speed+10*g.split_extratime))}p==10*t.mainMaxTimeLeft&&(o.innerHTML='<span class="wait_slide_end">WAIT</span>'),s.frames["frame_"+c].time_relative=h,0==c&&l["in"]&&(o.innerHTML='<span class="triggered_layer_on_timeline">a</span>'),999==c&&l.out&&(o.innerHTML='<span class="triggered_layer_on_timeline">a</span>'),t.updateFullTime(s),checkTillSlideEnd(s)},t.updateTLFrame=function(e,a,r,i){t.recordFrameStatusForce&&t.recordFrameStatus(e);var o=u.getCurrentLayer().serial,n=e.getElementsByClassName("tlf_speed")[0],s=e.getElementsByClassName("tlf_splitdelay")[0],l=e.getElementsByClassName("duration_cont")[0],d=e.getElementsByClassName("timebefore_cont")[0],c=e.parentNode.parentNode.getElementsByClassName("timeline-relative-marker")[0],e=jQuery(e),m=u.getLayerByUniqueId(e.data("uniqueid")),p={frames:{}},f=u.getObjectLength(m.frames),h=u.checkLayerTriggered(m);if(fi=e.data("frameindex"),speed=10*e.outerWidth(),time=10*e.position().left,splitdelay=getSplitCounts(m.text,m.frames["frame_"+fi].split,m.frames["frame_"+fi].splitdelay),currentframe=m.frames["frame_"+fi],updateTimerText=!0,timedif=time,p.frames["frame_"+fi]={},speed-10*splitdelay<0&&(speed=10*splitdelay,punchgs.TweenLite.set(e,{width:splitdelay})),0!==splitdelay?(punchgs.TweenLite.set(n,{width:speed/10-splitdelay}),punchgs.TweenLite.set(s,{width:splitdelay})):(punchgs.TweenLite.set(n,{width:speed/10}),punchgs.TweenLite.set(s,{width:0})),l.innerHTML=speed,(time==10*t.mainMaxTimeLeft||0==fi&&h["in"]||999==fi&&h.out)&&(updateTimerText=!1),void 0!==m.p_uid&&-1!==m.p_uid&&void 0!==u.getLayerByUniqueId(m.p_uid)&&"object"==typeof u.getLayerByUniqueId(m.p_uid)){var y=u.getLayerByUniqueId(m.p_uid);timedif=time-y.frames.frame_0.time,c.style.display="block"}else if(c.style.display="none",c.style.width="0px",0!==fi){var g=999===fi?m.frames["frame_"+(f-2)]:m.frames["frame_"+(fi-1)];g&&(timedif=time-(g.time+g.speed+10*g.split_extratime))}if(time==10*t.mainMaxTimeLeft&&(d.innerHTML='<span class="wait_slide_end">WAIT</span>'),0==fi&&h["in"]&&(d.innerHTML='<span class="triggered_layer_on_timeline">a</span>'),999==fi&&h.out&&(d.innerHTML='<span class="triggered_layer_on_timeline">a</span>'),currentframe.time_relative=timedif,p.frames["frame_"+fi].speed=speed-10*splitdelay,p.frames["frame_"+fi].time=time,p.frames["frame_"+fi].time_relative=timedif,p.frames["frame_"+fi].split_extratime=splitdelay,m.serial==o&&(0===fi&&(document.getElementById("layer_speed").value=p.frames.frame_0.speed),999===fi&&(document.getElementById("layer_endspeed").value=p.frames.frame_999.speed)),"trigger"!==a&&(currentframe.speed=p.frames["frame_"+fi].speed,currentframe.time=p.frames["frame_"+fi].time),0===fi&&("row"===m.type||"column"===m.type||"group"==m.type)){for(var v=u.getLayersInGroup(m.unique_id),b=0;b<v.columns.length;b++){var _=v.columns[b].references.sorttable.timeline,c=_[0].getElementsByClassName("timeline-relative-marker")[0];c.style.width=time/10-1+"px"}for(b=0;b<v.layers.length;b++){var _=v.layers[b].references.sorttable.timeline,c=_[0].getElementsByClassName("timeline-relative-marker")[0];if("row"===m.type){var w=document.getElementById("tl_"+v.layers[b].p_uid+"_frame_0");null!==w&&void 0!==w&&(c.style.width=w.style.left)}else c.style.width=time/10-1+"px"}}if(999!==fi){var k=fi+1>=f-1?999:fi+1,x=m.frames["frame_"+k];void 0!=x&&(x.time_relative=x.time-(currentframe.time+currentframe.speed+10*currentframe.split_extratime),p.frames["frame_"+k]={time_relative:x.time_relative},m.frames["frame_"+k].time_relative=x.time_relative)}else{var k="frame_0";for(var L in m.frames)"frame_999"!==L&&(k=L);var g=m.frames[k];if(void 0!=g){var T=m.frames["frame_"+fi].time-(g.time+g.speed+10*g.split_extratime);p.frames.frame_999.time_relative=T,m.frames.frame_999.time_relative=T}}"trigger"==a?u.updateLayer(m.serial,p):currentframe.split_extratime=p.frames["frame_"+fi].split_extratime,t.frameLimitations(e,!1,r,{update:updateTimerText,triggered:h,timecont:d}),t.updateFullTime(m),checkTillSlideEnd(m)},t.addLayersColumnsToSelectedElements=function(e,t){var a=u.getLayersInGroup(e.unique_id);if("row"===e.type||"column"==e.type||"group"===e.type){for(var r=0;r<=a.layers.length-1;r++){var i=a.layers[r].unique_id;if(-1==jQuery.inArray(i,u.selectedLayers)&&-1==jQuery.inArray(i,u.currentGroupElements)){var o=document.getElementById("tl_"+i+"_frame_"+t);u.currentGroupElementsPositionLeftReset.push(parseInt(o.style.left,0)),u.currentGroupElements.push(i)}}if("row"===e.type)for(var r=0;r<=a.columns.length-1;r++){var i=a.columns[r].unique_id;if(-1==jQuery.inArray(i,u.selectedLayers)&&-1==jQuery.inArray(i,u.currentGroupElements)){var o=document.getElementById("tl_"+i+"_frame_"+t);u.currentGroupElementsPositionLeftReset.push(parseInt(o.style.left,0)),u.currentGroupElements.push(i)}}}return!0},t.recordFrameStatus=function(e,a){var e=jQuery(e),r=e.data("frameindex"),i=u.getLayerByUniqueId(e.data("uniqueid"));i.positionLeftReset=void 0!==a?a.position.left:e.position().left,u.selectedLayersPositionLeftReset=[],u.currentGroupElements=[],u.currentGroupElementsPositionLeftReset=[];for(var o=0;o<=u.selectedLayers.length-1;o++){var n=u.selectedLayers[o],s=-1!==n?u.getLayerByUniqueId(n):-1,l=document.getElementById("tl_"+n+"_frame_"+r);u.selectedLayersPositionLeftReset.push(parseInt(l.style.left,0)),-1!==s&&t.addLayersColumnsToSelectedElements(s,0)}t.addLayersColumnsToSelectedElements(i,0),t.recordFrameStatusForce=!1},t.frameLimitations=function(e,a,r,i){t.recordFrameStatusForce&&t.recordFrameStatus(e);var e=jQuery(e),o=u.getLayerByUniqueId(e.data("uniqueid")),n=e.prev(),s=e.next(),l=s.data("frameindex"),d=e.data("frameindex"),c=void 0!==a&&a!==!1?a.position.left:e.position().left,m=e.outerWidth(),p=u.getObjectLength(o.frames),f=o.frames["frame_"+d];if(n.length>0&&(c=Math.max(n.position().left+n.outerWidth(),c)),c=Math.max(0,c),s.length>0&&999!==d&&(c=Math.min(s.position().left-m,c)),c=Math.min(t.mainMaxTimeLeft,c),void 0!==i&&i.update){var h=0;if(void 0!==o.p_uid&&0===d&&-1!==o.p_uid&&void 0!==u.getLayerByUniqueId(o.p_uid)&&"object"==typeof u.getLayerByUniqueId(o.p_uid)){var y=u.getLayerByUniqueId(o.p_uid);h=10*c-y.frames.frame_0.time}else if(0!==d){var g=999===d?o.frames["frame_"+(p-2)]:o.frames["frame_"+(d-1)];g&&(h=10*c-(g.time+g.speed+10*g.split_extratime))}"absolute"===t.timelinetype?i.timecont.innerHTML=10*c:i.timecont.innerHTML=h}if(999!==d&&"absolute"!==t.timelinetype){var v=o.frames["frame_"+l];v.time_relative=v.time-(f.time+10*f.split_extratime+f.speed),s.find(".timebefore_cont").html(v.time_relative)}if(void 0!==a&&a!==!1&&(a.position.left=c),punchgs.TweenLite.set(e,{left:c}),u.selectedLayers.length>0&&!r||void 0!=u.currentGroupElements&&u.currentGroupElements.length>0&&!r){for(var b=c-o.positionLeftReset,_=0;_<=u.selectedLayers.length-1;_++){var w=u.selectedLayers[_];if(w!=o.unique_id){var k=document.getElementById("tl_"+w+"_frame_"+d);k.style.left=u.selectedLayersPositionLeftReset[_]+b+"px",t.updateFullTime(u.getLayerByUniqueId(w),u.selectedLayersPositionLeftReset[_]+b)}}if(0===d&&void 0!==u.currentGroupElements&&u.currentGroupElements.length>0)for(var _=0;_<=u.currentGroupElements.length-1;_++){var w=u.currentGroupElements[_];if(w!=o.unique_id){var k=document.getElementById("tl_"+w+"_frame_"+d);k.style.left=u.currentGroupElementsPositionLeftReset[_]+b+"px",t.updateFullTime(u.getLayerByUniqueId(w),u.currentGroupElementsPositionLeftReset[_]+b)}}}t.updateFullTime(o),checkTillSlideEnd(o)},t.updateFullTime=function(e,t){var a=e.references.sorttable.timeline[0].getElementsByClassName("timeline_full")[0],r=jQuery(e.references.sorttable.timeline[0]).find(".timeline_audio"),t=void 0===t?15+e.frames.frame_0.time/10:t+15,i=10*(t-15);punchgs.TweenLite.set(a,{left:t,width:(e.frames.frame_999.time-i+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10}),void 0!==r&&r.length>0&&punchgs.TweenLite.set(r,{left:t,width:(e.frames.frame_999.time-i+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10})},t.updateLayerTimeline=function(e){for(var a=e.references.sorttable.timeline[0].getElementsByClassName("timeline_frame"),r=0;r<a.length;r++)t.setTLFrame(a[r]),t.updateTLFrame(a[r],!1,!0)},t.updateCurrentLayerTimeline=function(){for(var e=document.getElementById("layer_sort_time_"+u.getCurrentLayer().serial),a=e.getElementsByClassName("timeline_frame"),r=0;r<a.length;r++)t.setTLFrame(a[r],!1,!0)},t.updateAllLayerTimeline=function(){for(var e=document.getElementsByClassName("timeline_frame tl_layer_frame"),a=0;a<e.length;a++)t.updateTLFrame(e[a],!1,!0)},t.updateAllSelectedLayerTimeline=function(e){var e=jQuery(e),a=e.data("uniqueid"),r=e.data("frameindex");if(u.selectedLayers.length>0)for(var i=0;i<=u.selectedLayers.length-1;i++){var o=u.selectedLayers[i];o!=a&&t.updateTLFrame(document.getElementById("tl_"+o+"_frame_"+r),!1,!0)}if(0===r&&void 0!==u.currentGroupElements&&u.currentGroupElements.length>0)for(var i=0;i<=u.currentGroupElements.length-1;i++){var o=u.currentGroupElements[i];o!=a&&t.updateTLFrame(document.getElementById("tl_"+o+"_frame_"+r),!1,!0)}},t.showTimeLineDirectInput=function(e){jQuery("#clayer_start_time").val(e.time),jQuery("#clayer_start_speed").val(e.speed)},t.manageTimeLineDirectInput=function(){jQuery("#clayer_start_time, #clayer_end_time").on("change blur",function(){var e=t.getLayer(selectedLayerSerial);e.time=jQuery("#clayer_start_time").val(),e.frames.frame_999.time=jQuery("#clayer_end_time").val(),e.speed=jQuery("#clayer_start_speed").val(),e.frames.frame_999.speed=jQuery("#clayer_end_speed").val(),jQuery("#layer_speed").val(e.speed),jQuery("#layer_endspeed").val(e.frames.frame_999.speed),t.updateLayerFromFields(),u.updateCurrentLayerTimeline()})};var msToSec=function(e){var t=Math.floor(e/1e3);e-=1e3*t;var a=t+".";return 100>e&&(a+="0"),a+=Math.round(e/10)},getSplitCounts=function(e,t,a){if(void 0==e)return 0;var r=new Object;switch(ht=jQuery("<div>"+e+"</div>"),w=1,r.c=ht.text().replace(/ /g,"").length,r.w=e.split(" ").length,r.l=e.split("<br").length,t){case"chars":w=r.c;break;case"words":w=r.w;break;case"lines":w=r.l}return(w-1)*a},showHideTimeines=function(){jQuery("#button_sort_timing").click(function(){var e=jQuery(this);e.hasClass("off")?(e.removeClass("off"),e.find(".onoff").html("- on"),punchgs.TweenLite.to(jQuery(".sortlist .timeline"),.5,{autoAlpha:.5,overwrite:"auto"})):(punchgs.TweenLite.to(jQuery(".sortlist .timeline"),.5,{autoAlpha:0,overwrite:"auto"}),e.addClass("off"),e.find(".onoff").html("- off"))})};t.deleteLayerFromSortbox=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);try{a.remove(),r.remove(),i.remove()}catch(e){}jQuery(".quick-layers-list li").length<2&&jQuery(".nolayersavailable").show()},t.unselectSortboxItems=function(){jQuery(".sortlist li,#layers-right li, .quick-layers-list li").removeClass("ui-state-hover").addClass("ui-state-default")},t.organiseGroupsAndLayer=function(e,a,r){var i=a?u.arrLayersDemo:u.arrLayers,o=!1;for(var n in i){var s=i[n];if("group"!=s.type&&"row"!=s.type&&void 0!=s.p_uid&&-1!=s.p_uid){var l=a?null:s.references.sorttable.layer,d=u.getLayerByUniqueId(s.p_uid),c=!a&&d?d.references.sorttable.layer[0].getElementsByClassName("sgw_def")[0]:void 0,m=s.references.htmlLayer,p=d?d.references.htmlLayer:void 0;if(p&&m&&!p[0].contains(m[0])){var f=p[0].getElementsByClassName("tp_layer_group_inner_wrapper")[0];if(void 0!==f&&void 0!==m[0])if("column"!==s.type){var h,y=!0,g=99999;for(var v in i){var b=i[v];s.p_uid===b.p_uid&&void 0!==b.references.htmlLayer&&void 0!==b.groupOrder&&b.groupOrder>s.groupOrder&&b.groupOrder<g&&(g=b.groupOrder,y=!1,h=b.references.htmlLayer)}void 0!==h&&99999>g&&h[0].parentNode==f?f.insertBefore(m[0],h[0]):f.appendChild(m[0])}else f.appendChild(m[0])}a||e||void 0===c||c.contains(l[0])||(o=!0,c.appendChild(l[0])),a||void 0!==c||"column"!==s.type||u.deleteLayer(s.serial)}else{s.p_uid=-1;var m=s.references.htmlLayer,l=a?null:s.references.sorttable.layer;if("row"===s.type){var _,w="row-zone-"+u.getVal(s,"align_vert"),k=!0,x=99999,L=document.getElementById(w);for(var T in i){var b=i[T];"row"===b.type&&b.unique_id!==s.unique_id&&u.getVal(s,"align_vert")===u.getVal(b,"align_vert")&&void 0!==b.references.htmlLayer&&void 0!==b.groupOrder&&b.groupOrder>=s.groupOrder&&b.groupOrder<x&&(x=b.groupOrder,k=!1,_=b.references.htmlLayer)}void 0!==_&&99999>x&&_[0].parentNode==L?L.insertBefore(m[0],_[0]):L.appendChild(m[0]),u.checkRowZoneContents()}else"divLayers"!=m[0].parentNode.id&&document.getElementById("divLayers").appendChild(m[0]);a||"layers-left-ul"==l[0].parentNode.id||(document.getElementById("layers-left-ul").insertBefore(l[0],document.getElementById("last_drop_zone_layers")),o=!0)}}u.setMiddleRowZone(),o&&t.updateOrderFromSortbox(r)},t.updateOrderFromSortbox=function(e){for(c in u.arrLayers){var a=u.arrLayers[c];if("column"!=a.type&&"row"!=a.type&&"group"!=a.type){var r=a.references.sorttable.layer,i=r[0].parentNode.parentNode.classList.contains("sortable_column"),o=r[0].parentNode.parentNode.classList.contains("sortable_group"),n=-1;if(!i&&!o||"layers-left-ul"==r[0].parentNode.parentNode.id);else{var s=jQuery(r[0].parentNode.parentNode);if(!i){r.data("pid",s.data("uniqueid"));var l=s.data("type");"row"===l&&(s=r.prev(),0==s.length&&(s=r.next()),s[0].getElementsByClassName("sortable_layers_in_columns")[0].appendChild(r[0]))}n=s.data("uniqueid")}r.data("pid",n),r.attr("pid",n),a.p_uid!=n&&(a.p_uid=n,u.add_layer_change())}}for(var d=jQuery("#layers-left-ul").sortable("toArray",{attribute:"data-uniqueid"}),c=0;c<d.length;c++){var a=u.getLayerByUniqueId(d[c]),m=c+5;u.arrLayers[a.serial].order=c,u.arrLayers[a.serial].zIndex=m,a.references.sorttable.layer[0].getElementsByClassName("sortbox_depth")[0]&&(a.references.sorttable.layer[0].getElementsByClassName("sortbox_depth")[0].innerHTML=m),document.getElementById("layers-right-ul").appendChild(a.references.sorttable.timeline[0]),document.getElementById("quick-layers-list-id").appendChild(a.references.quicklayer[0]),-1!=a.p_uid&&void 0!==a.p_uid&&"row"!==a.type&&"group"!==a.type?a.references.quicklayer.addClass("quick_in_group"):a.references.quicklayer.removeClass("quick_in_group")}t.updateZIndexByOrder(),1!=e&&t.updateAllLayerTimeline()},t.resetTimeLineHeight=function(){var e=document.getElementById("layers-right-ul").clientHeight;punchgs.TweenLite.set(jQuery("#mastertimer-position"),{height:e+40})},t.timeLineTableDimensionUpdate=function(){clearTimeout(timeline_timer),timeline_timer=setTimeout(function(){t.resetTimeLineHeight();var e=30*(jQuery("#layers-right ul li").length+1)-30*(jQuery("#layers-right ul li.layer-deleted").length+1);punchgs.TweenLite.set(jQuery(".layers-wrapper"),{height:e+3}),punchgs.TweenLite.set(jQuery("#mastertimer-wrapper"),{height:e+3}),jQuery(".master-rightcell .layers-wrapper, .master-leftcell .layers-wrapper, #divLayers-wrapper, .quick-layers-list").perfectScrollbar("update")},50)},t.updateZIndexByOrder=function(){for(var e in u.arrLayers){var t=u.arrLayers[e],a=void 0!==t.order?t.order+5:5,r={zIndex:a};void 0!==t.order&&punchgs.TweenLite.set(t.references.htmlLayer,{zIndex:Number(t.order)+100}),u.updateLayer(t.serial,r,!1,!0)}};var shiftOrder=function(e){for(key in u.arrLayers){var t=u.arrLayers[key];t.order>=e&&(t.order=Number(t.order)+1,u.arrLayers[key]=t)}};t.getSortboxText=function(e){sorboxTextSize=20;var t=void 0===e?"NoText":UniteAdminRev.stripTags(e);return t.length<2&&(t=UniteAdminRev.htmlspecialchars(e)),t.length>sorboxTextSize&&(t=t.slice(0,sorboxTextSize)+"..."),t},t.redrawSortbox=function(e){void 0==e&&(e=sortMode),emptySortbox();var a=getLayersSorted("depth");if(0==a.length)return!1;for(var r=0;r<a.length;r++){var i=a[r];t.addToSortbox(i.serial,i)}-1!=u.selectedLayerSerial&&t.setSortboxItemSelected(u.selectedLayerSerial);
};var reinitSortBox=function(e){jQuery("#last_drop_zone_layers").appendTo("#layers-left-ul"),e&&jQuery(".layer_sortbox ul").sortable({refreshPositions:!0,placeholder:"silent-placeholder",cancel:"#slide_in_sort, input",handle:".mastertimer-timeline-zindex-row",items:".sortable_elements",connectWith:"#layers-left-ul, .sortable_groups_wrap, .sortable_layers_in_columns",update:function(e,a){var r=jQuery(a.item);r.hasClass("sortable_row")&&jQuery(this).sortable("cancel");var i=r.parent(),o=i.closest(".sortable_group"),n=jQuery("#layers-left-ul");if(!i.hasClass("sortable_groups_wrap")&&!i.hasClass("sortable_layers_in_columns")||r.hasClass("sortable_layers")||(r.index()<i.children().length/2?r.insertBefore(o):r.insertAfter(o)),"layers-left-ul"===i.attr("id")||"layers-left-ul"===i.parent().attr("id")||r.hasClass("sortable_group")){var s=n.find(".sortable_row"),l=s.first().index(),d=s.last().index(),c=r.index();c>l&&d>c&&r.insertAfter(s.last())}onSortboxSorted(),t.organiseGroupsAndLayer()}}),jQuery(".droppable_sortable_group,.droppable_sortable_row, .droppable_sortable_column").droppable({tolerance:"intersect",greedy:!0,over:function(e){jQuery(e.target).addClass("readytodrop")},out:function(e){jQuery(e.target).removeClass("readytodrop")},drop:function(e,a){jQuery("#layers-left-ul"),jQuery(e.target).removeClass("readytodrop");var r,i=jQuery(e.target).attr("class"),o=jQuery(e.srcElement).closest(".sortable_elements.sortable_layers");return!!o.length&&(i.indexOf("droppable_sortable_group")>=0&&(r=jQuery(e.target).closest("li.sortable_group").find(".sortable_groups_wrap")),i.indexOf("droppable_sortable_row")>=0&&(r=jQuery(e.target).closest("li.sortable_group.sortable_row").find(".sortable_layers_in_columns").first()),i.indexOf("droppable_sortable_column")>=0&&(r=jQuery(e.target).closest("li.sortable_column").find(".sortable_layers_in_columns").first()),void setTimeout(function(){o.appendTo(r),onSortboxSorted(),t.organiseGroupsAndLayer()},50))}})},initSortbox=function(){t.redrawSortbox(),reinitSortBox(!0),jQuery("body").delegate(".layer_sort_inner_wrapper","mousedown",function(e){var t=jQuery(this).closest(".sortable_elements");if(t.hasClass("ui-state-hover"))return!0;if(!t.hasClass("mastertimer-slide")){var a=u.getSerialFromSortID(t.attr("id"));return u.setLayerSelected(a),!1}}),jQuery("body").on("click",".sort_group_collapser",function(e){var t=jQuery(this),a=t.closest(".sortable_column"),r=a.length?a:t.closest(".sortable_group"),i=a.length?r.find(".sortable_layers_in_columns"):r.find(".sortable_groups_wrap");t.toggleClass("collapsed"),t.hasClass("collapsed")?i.css({maxHeight:"0px",overflow:"hidden"}):i.css({maxHeight:"none",overflow:"visible"}),i.find(".sortable_elements").each(function(e,a){var a=jQuery(a),r=a.data("uniqueid");t.hasClass("collapsed")?jQuery('#layers-right-ul li[data-uniqueid="'+r+'"]').addClass("unvisibletimeline"):jQuery('#layers-right-ul li[data-uniqueid="'+r+'"]').removeClass("unvisibletimeline")})}),jQuery("#layers-right").delegate("li","mousedown",function(e){var a=jQuery(this);if(t.recordFrameStatusForce=!0,a.hasClass("ui-state-hover"))return!0;if(!a.hasClass("mastertimer-slide")){var r=u.getSerialFromSortID(this.id);return u.setLayerSelected(r),!1}}),jQuery(".quick-layer-all-lock").click(function(){var e=jQuery(this),t=e.find("i");t.hasClass("eg-icon-lock")?(jQuery(".quick-layer-lock i").each(function(){jQuery(this).removeClass("eg-icon-lock-open").addClass("eg-icon-lock")}),t.addClass("eg-icon-lock-open").removeClass("eg-icon-lock"),u.lockAllLayers()):(jQuery(".quick-layer-lock i").each(function(){jQuery(this).removeClass("eg-icon-lock").addClass("eg-icon-lock-open")}),t.removeClass("eg-icon-lock-open").addClass("eg-icon-lock"),u.unlockAllLayers())}),jQuery(".quick-layer-all-view").click(function(){var e=jQuery(this),t=e.find("i");t.hasClass("eg-icon-eye")?(jQuery(".quick-layer-view i").each(function(){jQuery(this).addClass("eg-icon-eye").removeClass("eg-icon-eye-off")}),t.removeClass("eg-icon-eye").addClass("eg-icon-eye-off"),u.showAllLayers()):(jQuery(".quick-layer-view i").each(function(){jQuery(this).removeClass("eg-icon-eye").addClass("eg-icon-eye-off")}),t.addClass("eg-icon-eye").removeClass("eg-icon-eye-off"),u.hideAllLayers())}),jQuery(".sortlist").delegate(".till_slideend","mousedown",function(e){var a=jQuery(this),r=a.closest("li"),i=a.data("serial"),o=u.getLayer(i),n=10*t.mainMaxTimeLeft;r.hasClass("tillendon")?(r.removeClass("tillendon"),o.frames.frame_999.time=o.frames.frame_999.time-200,t.updateLayerTimeline(o)):(r.addClass("tillendon"),o.frames.frame_999.time=n,t.updateLayerTimeline(o))})},getLayersSorted=function(e){void 0==e&&(e="time");var t=[];for(key in u.arrLayers){var a=u.arrLayers[key];a.serial=key,t.push(a)}return 0==t.length?t:(t.sort(function(t,a){switch(e){case"time":if(Number(t.time)==Number(a.time))return t.order==a.order?0:t.order>a.order?1:-1;if(Number(t.time)>Number(a.time))return 1;break;case"depth":if(t.order==a.order)return 0;if(t.order>a.order)return 1;break;default:trace("wrong sort type: "+e)}return-1}),t)};t.hideLayer=function(e,a){if(void 0!==e.references&&void 0!==e.references.htmlLayer){var r=e.references.htmlLayer;r.css({visibility:"hidden"}),r.addClass("currently_not_visible"),e.isDemo||setSortboxItemHidden(e.serial),1!=a&&t.isAllLayersHidden()&&jQuery("#button_sort_visibility").addClass("e-disabled")}},t.showLayer=function(e,t){if(void 0!==e.references&&void 0!==e.references.htmlLayer){var a=e.references.htmlLayer;a.css({visibility:"visible"}),a.removeClass("currently_not_visible"),e.isDemo||setSortboxItemVisible(e.serial),1!=t&&jQuery("#button_sort_visibility").removeClass("e-disabled")}},t.isLayerVisible=function(e){var t=!0;return void 0!=e&&e[0].classList.contains("currently_not_visible")&&(t=!1),t},t.isAllLayersHidden=function(){var e=0;for(serial in u.arrLayers){if(void 0!==u.arrLayers[e]&&1==t.isLayerVisible(u.arrLayers[e].references.htmlLayer))return!1;e++}return!0},t.isLayerLocked=function(e){return e.hasClass("layer_on_lock")},t.lockLayer=function(e){setSortboxItemLocked(e);var t=u.getHtmlLayerFromSerial(e);t.addClass("layer_on_lock")},t.unlockLayer=function(e){setSortboxItemUnlocked(e);var t=u.getHtmlLayerFromSerial(e);t.removeClass("layer_on_lock")},t.setSortboxItemSelected=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);t.unselectSortboxItems(),a&&a.removeClass("ui-state-default").addClass("ui-state-hover"),r&&r.removeClass("ui-state-default").addClass("ui-state-hover"),i&&i.removeClass("ui-state-default").addClass("ui-state-hover")};var setSortboxItemHidden=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.addClass("sortitem-hidden"),r&&r.addClass("sortitem-hidden"),i&&(i.addClass("sortitem-hidden"),i.find(".eg-icon-eye").addClass("eg-icon-eye-off").removeClass("eg-icon-eye"),i.find(".quick-layer-view").addClass("in-off"))},setSortboxItemVisible=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.removeClass("sortitem-hidden"),r&&r.removeClass("sortitem-hidden"),i&&i.removeClass("sortitem-hidden")},setSortboxItemLocked=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.addClass("sortitem-locked"),r&&r.addClass("sortitem-locked"),i&&i.addClass("sortitem-locked")},setSortboxItemUnlocked=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.removeClass("sortitem-locked"),r&&r.removeClass("sortitem-locked"),i&&i.removeClass("sortitem-locked")};t.getHtmlSortItemFromSerial=function(e){var t=jQuery("#layer_sort_"+e);return 0==t.length?(UniteAdminRev.showErrorMessage("Html sort field with serial: "+e+" not found!"),!1):t},t.getHtmlSortTimeItemFromSerial=function(e){var t=jQuery("#layer_sort_time_"+e);return 0==t.length?(UniteAdminRev.showErrorMessage("Html sort field with serial: "+e+" not found!"),!1):t},t.getHtmlQuickTimeItemFromSerial=function(e){var t=jQuery("#layer_quicksort_"+e);return 0==t.length?(UniteAdminRev.showErrorMessage("Html sort field with serial: "+e+" not found!"),!1):t};var emptySortbox=function(){jQuery(".sortlist ul").find(".sortable_elements").remove(),jQuery("#layers-right ul").find(".sortable_elements").remove()},onSortboxSorted=function(){t.updateOrderFromSortbox()},prepareOneSlide=function(e,t,a,r,i,o){var n=e,s=(n.find(".defaultimg"),n.data("zoomstart"),n.data("rotationstart"),n.find(".defaultimg").css("backgroundImage")),l=n.find(".defaultimg").css("backgroundColor"),d=0,c=n.find(".defaultimg").css("backgroundSize"),u=n.find(".defaultimg").css("backgroundRepeat"),m=n.find(".defaultimg").css("backgroundPosition");s=s.replace('"',""),s=s.replace('"',""),void 0==c&&(c="cover"),void 0==u&&(u="no-repeat"),void 0==m&&(m="center center");var i=void 0!=i?i:jQuery("#divbgholder").width(),o=void 0!=o?o:jQuery("#divbgholder").height();t.slotw=Math.ceil(i/t.slots),t.sloth=Math.ceil(o/t.slots);var p=0,f=0,h=0;p=t.sloth>t.slotw?t.sloth:t.slotw,t.slotw=p,t.sloth=p;var f=0,h=0,y=0,g=0;switch(r){case"box":for(var v=0;v<t.slots;v++){h=0;for(var b=0;b<t.slots;b++)n.append('<div class="slot" style="position:absolute;top:'+(g+h)+"px;left:"+(y+f)+"px;width:"+p+"px;height:"+p+'px;overflow:hidden;"><div class="slotslide" data-x="'+f+'" data-y="'+h+'" style="position:absolute;top:0px;left:0px;width:'+p+"px;height:"+p+'px;overflow:hidden;"><div class="slotslidebg" style="position:absolute;top:'+(0-h)+"px;left:"+(0-f)+"px;width:"+i+"px;height:"+o+"px;background-color:"+l+";background-image:"+s+";background-repeat:"+u+";background-size:"+c+";background-position:"+m+';"></div></div></div>'),h+=p;f+=p}break;case"vertical":case"horizontal":if("horizontal"==r){if(!a)var d=0-t.slotw;for(var b=0;b<t.slots;b++)n.append('<div class="slot" style="position:absolute;top:'+(0+g)+"px;left:"+(y+b*t.slotw)+"px;overflow:hidden;width:"+(t.slotw+.6)+"px;height:"+o+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+d+"px;width:"+(t.slotw+.6)+"px;height:"+o+'px;overflow:hidden;"><div class="slotslidebg" style="background-color:'+l+";position:absolute;top:0px;left:"+(0-b*t.slotw)+"px;width:"+i+"px;height:"+o+"px;background-image:"+s+";background-repeat:"+u+";background-size:"+c+";background-position:"+m+';"></div></div></div>')}else{if(!a)var d=0-t.sloth;for(var b=0;b<t.slots+2;b++)n.append('<div class="slot" style="position:absolute;top:'+(g+b*t.sloth)+"px;left:"+y+"px;overflow:hidden;width:"+i+"px;height:"+t.sloth+'px"><div class="slotslide" style="position:absolute;top:'+d+"px;left:0px;width:"+i+"px;height:"+t.sloth+'px;overflow:hidden;"><div class="slotslidebg" style="background-color:'+l+";position:absolute;top:"+(0-b*t.sloth)+"px;left:0px;width:"+i+"px;height:"+o+"px;background-image:"+s+";background-repeat:"+u+";background-size:"+c+";background-position:"+m+';"></div></div></div>')}}},slideAnimation=function(e,t,a,r,i){function o(){x&&jQuery.each(x,function(e,t){t[0]!=a&&t[8]!=a||(v=t[1],b=t[2],_=w),w+=1})}if(void 0!=e){var n=e,s=t,l=new Object,d=new Object;d.width=e.width(),d.height=e.height()}else{var e=n=jQuery("#divbgholder").find(".slotholder"),t=s=jQuery("#divbgholder").find(".oldslotholder"),l=new Object,a=jQuery("#fake-select-label").data("valu"),d=new Object;d.width=jQuery("#divbgholder").width(),d.height=jQuery("#divbgholder").height()}"slidingoverlayvertical"==a&&(a="slidingoverlayup"),"slidingoverlayhorizontal"==a&&(a="slidingoverlayleft"),"slideoverhorizontal"==a&&(a="slideoverleft"),"slideoververtical"==a&&(a="slideoverup"),"slideremovehorizontal"==a&&(a="slideremoveleft"),"slideremovevertical"==a&&(a="slideremoveup"),"slidehorizontal"==a&&(a="slideleft"),"slidevertical"==a&&(a="slideup"),"parallaxhorizontal"==a&&(a="parallaxtoleft"),"parallaxvertical"==a&&(a="parallaxtotop");var c=punchgs.Power1.easeIn,u=punchgs.Power1.easeOut,m=punchgs.Power1.easeInOut,p=punchgs.Power2.easeIn,f=punchgs.Power2.easeOut,h=punchgs.Power2.easeInOut,y=(punchgs.Power3.easeIn,punchgs.Power3.easeOut),g=punchgs.Power3.easeInOut,v=0,b=1,_=0,w=0,k=new Array,x=[["boxslide",0,1,10,0,"box",!1,null,0,u,u,500,6],["boxfade",1,0,10,0,"box",!1,null,1,m,m,700,5],["slotslide-horizontal",2,0,0,200,"horizontal",!0,!1,2,h,h,700,3],["slotslide-vertical",3,0,0,200,"vertical",!0,!1,3,h,h,700,3],["curtain-1",4,3,0,0,"horizontal",!0,!0,4,u,u,300,5],["curtain-2",5,3,0,0,"horizontal",!0,!0,5,u,u,300,5],["curtain-3",6,3,25,0,"horizontal",!0,!0,6,u,u,300,5],["slotzoom-horizontal",7,0,0,400,"horizontal",!0,!0,7,u,u,300,7],["slotzoom-vertical",8,0,0,0,"vertical",!0,!0,8,f,f,500,8],["slotfade-horizontal",9,0,0,500,"horizontal",!0,null,9,f,f,500,25],["slotfade-vertical",10,0,0,500,"vertical",!0,null,10,f,f,500,25],["fade",11,0,1,300,"horizontal",!0,null,11,h,h,1e3,1],["crossfade",11,1,1,300,"horizontal",!0,null,11,h,h,1e3,1],["fadethroughdark",11,2,1,300,"horizontal",!0,null,11,h,h,1e3,1],["fadethroughlight",11,3,1,300,"horizontal",!0,null,11,h,h,1e3,1],["fadethroughtransparent",11,4,1,300,"horizontal",!0,null,11,h,h,1e3,1],["slideleft",12,0,1,0,"horizontal",!0,!0,12,g,g,1e3,1],["slideup",13,0,1,0,"horizontal",!0,!0,13,g,g,1e3,1],["slidedown",14,0,1,0,"horizontal",!0,!0,14,g,g,1e3,1],["slideright",15,0,1,0,"horizontal",!0,!0,15,g,g,1e3,1],["slideoverleft",12,7,1,0,"horizontal",!0,!0,12,g,g,1e3,1],["slideoverup",13,7,1,0,"horizontal",!0,!0,13,g,g,1e3,1],["slideoverdown",14,7,1,0,"horizontal",!0,!0,14,g,g,1e3,1],["slideoverright",15,7,1,0,"horizontal",!0,!0,15,g,g,1e3,1],["slideremoveleft",12,8,1,0,"horizontal",!0,!0,12,g,g,1e3,1],["slideremoveup",13,8,1,0,"horizontal",!0,!0,13,g,g,1e3,1],["slideremovedown",14,8,1,0,"horizontal",!0,!0,14,g,g,1e3,1],["slideremoveright",15,8,1,0,"horizontal",!0,!0,15,g,g,1e3,1],["papercut",16,0,0,600,"",null,null,16,g,g,1e3,2],["3dcurtain-horizontal",17,0,20,100,"vertical",!1,!0,17,m,m,500,7],["3dcurtain-vertical",18,0,10,100,"horizontal",!1,!0,18,m,m,500,5],["cubic",19,0,20,600,"horizontal",!1,!0,19,g,g,500,1],["cube",19,0,20,600,"horizontal",!1,!0,20,g,g,500,1],["flyin",20,0,4,600,"vertical",!1,!0,21,y,g,500,1],["turnoff",21,0,1,500,"horizontal",!1,!0,22,g,g,500,1],["incube",22,0,20,200,"horizontal",!1,!0,23,h,h,500,1],["cubic-horizontal",23,0,20,500,"vertical",!1,!0,24,f,f,500,1],["cube-horizontal",23,0,20,500,"vertical",!1,!0,25,f,f,500,1],["incube-horizontal",24,0,20,500,"vertical",!1,!0,26,h,h,500,1],["turnoff-vertical",25,0,1,200,"horizontal",!1,!0,27,h,h,500,1],["fadefromright",12,1,1,0,"horizontal",!0,!0,28,h,h,1e3,1],["fadefromleft",15,1,1,0,"horizontal",!0,!0,29,h,h,1e3,1],["fadefromtop",14,1,1,0,"horizontal",!0,!0,30,h,h,1e3,1],["fadefrombottom",13,1,1,0,"horizontal",!0,!0,31,h,h,1e3,1],["fadetoleftfadefromright",12,2,1,0,"horizontal",!0,!0,32,h,h,1e3,1],["fadetorightfadefromleft",15,2,1,0,"horizontal",!0,!0,33,h,h,1e3,1],["fadetobottomfadefromtop",14,2,1,0,"horizontal",!0,!0,34,h,h,1e3,1],["fadetotopfadefrombottom",13,2,1,0,"horizontal",!0,!0,35,h,h,1e3,1],["parallaxtoright",12,3,1,0,"horizontal",!0,!0,36,h,p,1500,1],["parallaxtoleft",15,3,1,0,"horizontal",!0,!0,37,h,p,1500,1],["parallaxtotop",14,3,1,0,"horizontal",!0,!0,38,h,c,1500,1],["parallaxtobottom",13,3,1,0,"horizontal",!0,!0,39,h,c,1500,1],["scaledownfromright",12,4,1,0,"horizontal",!0,!0,40,h,p,1e3,1],["scaledownfromleft",15,4,1,0,"horizontal",!0,!0,41,h,p,1e3,1],["scaledownfromtop",14,4,1,0,"horizontal",!0,!0,42,h,p,1e3,1],["scaledownfrombottom",13,4,1,0,"horizontal",!0,!0,43,h,p,1e3,1],["zoomout",13,5,1,0,"horizontal",!0,!0,44,h,p,1e3,1],["zoomin",13,6,1,0,"horizontal",!0,!0,45,h,p,1e3,1],["slidingoverlayup",27,0,1,0,"horizontal",!0,!0,47,m,u,2e3,1],["slidingoverlaydown",28,0,1,0,"horizontal",!0,!0,48,m,u,2e3,1],["slidingoverlayright",30,0,1,0,"horizontal",!0,!0,49,m,u,2e3,1],["slidingoverlayleft",29,0,1,0,"horizontal",!0,!0,50,m,u,2e3,1],["notransition",26,0,1,0,"horizontal",!0,null,46,h,p,1e3,1]];"random-selected"!=a&&"random"!=a&&"random-static"!=a&&"random-premium"!=a||(a=11),o();var L=jQuery("#transition_duration").val();v>30&&(v=30),0>v&&(v=0),k=x[_];var T=new punchgs.TimelineLite;T.add(punchgs.TweenLite.set(e.find(".defaultimg"),{autoAlpha:0})),T.pause(),T.add(punchgs.TweenLite.set(t,{autoAlpha:1,force3D:"auto",zIndex:0}),0),T.add(punchgs.TweenLite.set(e,{autoAlpha:1,force3D:"auto",zIndex:1}),0),d.slots=jQuery("#slot_amount").val(),d.rotate=jQuery("#transition_rotation").val(),L="default"===L?k[11]:"random"===L?Math.round(1e3*Math.random()+300):void 0!=L?parseInt(L,0):k[11],L=L>d.delay?d.delay:L,L+=k[4],d.slots=void 0==d.slots||"default"==d.slots?k[12]:"random"==d.slots?Math.round(12*Math.random()+4):k[12],d.slots=d.slots<1?"boxslide"==a?Math.round(6*Math.random()+3):"flyin"==a?Math.round(4*Math.random()+1):d.slots:d.slots,d.slots=(4==v||5==v||6==v)&&d.slots<3?3:d.slots,d.slots=0!=k[3]?Math.min(d.slots,k[3]):d.slots,d.slots=9==v?d.width/20:10==v?d.height/20:d.slots,d.rotate=void 0==d.rotate||"default"==d.rotate?0:999==d.rotate||"random"==d.rotate?Math.round(360*Math.random()):d.rotate,d.rotate=!jQuery.support.transition||d.ie||d.ie9?0:d.rotate,d.slotw=Math.ceil(d.width/jQuery("#slot_amount").val()),d.sloth=Math.ceil(d.height/jQuery("#slot_amount").val()),null!=k[7]&&prepareOneSlide(t,d,k[7],k[5],d.width,d.height),null!=k[6]&&prepareOneSlide(e,d,k[6],k[5],d.width,d.height);var j=jQuery("select[name=transition_ease_in]").val(),Q=jQuery("select[name=transition_ease_out]").val(),I=1;if(j="default"===j?k[9]||punchgs.Power2.easeInOut:j||k[9]||punchgs.Power2.easeInOut,Q="default"===Q?k[10]||punchgs.Power2.easeInOut:Q||k[10]||punchgs.Power2.easeInOut,0==v){var S=Math.ceil(d.height/d.sloth),C=0;e.find(".slotslide").each(function(e){var t=jQuery(this);C+=1,C==S&&(C=0),T.add(punchgs.TweenLite.from(t,L/600,{opacity:0,top:0-d.sloth,left:0-d.slotw,rotation:d.rotate,force3D:"auto",ease:j}),(15*e+30*C)/1500)})}if(1==v){var A,E=0;e.find(".slotslide").each(function(e){var t=jQuery(this),a=Math.random()*L+300,r=500*Math.random()+200;a+r>A&&(A=r+r,E=e),T.add(punchgs.TweenLite.from(t,a/1e3,{autoAlpha:0,force3D:"auto",rotation:d.rotate,ease:j}),r/1e3)})}if(2==v){var z=new punchgs.TimelineLite;t.find(".slotslide").each(function(){var e=jQuery(this);z.add(punchgs.TweenLite.to(e,L/1e3,{left:d.slotw,ease:j,force3D:"auto",rotation:0-d.rotate}),0),T.add(z,0)}),e.find(".slotslide").each(function(){var e=jQuery(this);z.add(punchgs.TweenLite.from(e,L/1e3,{left:0-d.slotw,ease:j,force3D:"auto",rotation:d.rotate}),0),T.add(z,0)})}if(3==v){var z=new punchgs.TimelineLite;t.find(".slotslide").each(function(){var e=jQuery(this);z.add(punchgs.TweenLite.to(e,L/1e3,{top:d.sloth,ease:j,rotation:d.rotate,force3D:"auto",transformPerspective:600}),0),T.add(z,0)}),e.find(".slotslide").each(function(){var e=jQuery(this);z.add(punchgs.TweenLite.from(e,L/1e3,{top:0-d.sloth,rotation:d.rotate,ease:Q,force3D:"auto",transformPerspective:600}),0),T.add(z,0)})}if(4==v||5==v){setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100);var B=L/1e3,z=new punchgs.TimelineLite;t.find(".slotslide").each(function(e){var t=jQuery(this),a=e*B/d.slots;5==v&&(a=(d.slots-e-1)*B/d.slots/1.5),z.add(punchgs.TweenLite.to(t,3*B,{transformPerspective:600,force3D:"auto",top:0+d.height,opacity:.5,rotation:d.rotate,ease:j,delay:a}),0),T.add(z,0)}),e.find(".slotslide").each(function(e){var t=jQuery(this),a=e*B/d.slots;5==v&&(a=(d.slots-e-1)*B/d.slots/1.5),z.add(punchgs.TweenLite.from(t,3*B,{top:0-d.height,opacity:.5,rotation:d.rotate,force3D:"auto",ease:punchgs.eo,delay:a}),0),T.add(z,0)})}if(6==v){d.slots<2&&(d.slots=2),d.slots%2&&(d.slots=d.slots+1);var z=new punchgs.TimelineLite;setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100),t.find(".slotslide").each(function(e){var t=jQuery(this);if(e+1<d.slots/2)var a=90*(e+2);else var a=90*(2+d.slots-e);z.add(punchgs.TweenLite.to(t,(L+a)/1e3,{top:0+d.height,opacity:1,force3D:"auto",rotation:d.rotate,ease:j}),0),T.add(z,0)}),e.find(".slotslide").each(function(e){var t=jQuery(this);if(e+1<d.slots/2)var a=90*(e+2);else var a=90*(2+d.slots-e);z.add(punchgs.TweenLite.from(t,(L+a)/1e3,{top:0-d.height,opacity:1,force3D:"auto",rotation:d.rotate,ease:Q}),0),T.add(z,0)})}if(7==v){L*=2,L>d.delay&&(L=d.delay);var z=new punchgs.TimelineLite;setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100),t.find(".slotslide").each(function(){var e=jQuery(this).find("div");z.add(punchgs.TweenLite.to(e,L/1e3,{left:0-d.slotw/2+"px",top:0-d.height/2+"px",width:2*d.slotw+"px",height:2*d.height+"px",opacity:0,rotation:d.rotate,force3D:"auto",ease:j}),0),T.add(z,0)}),e.find(".slotslide").each(function(e){var t=jQuery(this).find("div");z.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,top:0,opacity:0,transformPerspective:600},{left:0-e*d.slotw+"px",ease:Q,force3D:"auto",top:"0px",width:d.width,height:d.height,opacity:1,rotation:0,delay:.1}),0),T.add(z,0)})}if(8==v){L*=3,L>d.delay&&(L=d.delay);var z=new punchgs.TimelineLite;t.find(".slotslide").each(function(){var e=jQuery(this).find("div");z.add(punchgs.TweenLite.to(e,L/1e3,{left:0-d.width/2+"px",top:0-d.sloth/2+"px",width:2*d.width+"px",height:2*d.sloth+"px",force3D:"auto",ease:j,opacity:0,rotation:d.rotate}),0),T.add(z,0)}),e.find(".slotslide").each(function(t){var a=jQuery(this).find("div");z.add(punchgs.TweenLite.fromTo(a,L/1e3,{left:0,top:0,opacity:0,force3D:"auto"},{left:"0px",top:0-t*d.sloth+"px",width:e.find(".defaultimg").data("neww")+"px",height:e.find(".defaultimg").data("newh")+"px",opacity:1,ease:Q,rotation:0}),0),T.add(z,0)})}if(9==v||10==v){var M=0;e.find(".slotslide").each(function(e){var t=jQuery(this);M++,T.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0,force3D:"auto",transformPerspective:600},{autoAlpha:1,ease:j,delay:5*e/1e3}),0)})}if(11==v||26==v){var M=0,Y=2==b?"#000000":3==b?"#ffffff":"transparent";if(26==v&&(L=0),i)switch(T.add(punchgs.TweenLite.set(e.parent(),{backgroundColor:Y,force3D:"auto"}),0),b){case 0:T.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0,zIndex:1},{autoAlpha:1,zIndex:1,force3D:"auto",ease:j}),0),T.add(punchgs.TweenLite.set(e,{autoAlpha:1,force3D:"auto",zIndex:0}),0);break;case 1:T.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:j}),0),T.add(punchgs.TweenLite.fromTo(e,L/1e3,{autoAlpha:1},{autoAlpha:0,force3D:"auto",ease:j}),0);break;case 2:case 3:case 4:T.add(punchgs.TweenLite.fromTo(e,L/2e3,{autoAlpha:1},{autoAlpha:0,force3D:"auto",ease:j}),0),T.add(punchgs.TweenLite.set(t,{autoAlpha:0,force3D:"auto"}),0),T.add(punchgs.TweenLite.fromTo(t,L/2e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:j}),L/2e3)}else e.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:j}),0)})}if(27==v||28==v||29==v||30==v){var X=e.find(".slot"),R=27==v||28==v?1:2,H=27==v||29==v?"-100%":"+100%",P=27==v||29==v?"+100%":"-100%",D=27==v||29==v?"-80%":"80%",F=27==v||29==v?"80%":"-80%",O=27==v||29==v?"10%":"-10%",N={overwrite:"all"},q={autoAlpha:0,zIndex:1,force3D:"auto",ease:punchgs.Power1.easeInOut},W={position:"inherit",autoAlpha:0,overwrite:"all"},V={autoAlpha:1,force3D:"auto",ease:punchgs.Power1.easeOut},U={overwrite:"all",zIndex:2},G={autoAlpha:1,force3D:"auto",overwrite:"all",ease:punchgs.Power1.easeInOut},Z={overwrite:"all",zIndex:2},K={autoAlpha:1,force3D:"auto",ease:punchgs.Power1.easeInOut},$=1==R?"y":"x";N[$]="0px",q[$]=H,W[$]=O,V[$]="0%",U[$]=P,G[$]=H,Z[$]=D,K[$]=F,X.append('<span style="background-color:rgba(0,0,0,0.6);width:100%;height:100%;position:absolute;top:0px;left:0px;display:block;z-index:2"></span>'),T.add(punchgs.TweenLite.fromTo(t,L/1e3,N,q),0),T.add(punchgs.TweenLite.fromTo(e.find(".defaultimg"),L/2e3,W,V),L/2e3),T.add(punchgs.TweenLite.fromTo(X,L/1e3,U,G),0),T.add(punchgs.TweenLite.fromTo(X.find(".slotslide div"),L/1e3,Z,K),0)}if(12==v||13==v||14==v||15==v){L=L,L>d.delay&&(L=d.delay),setTimeout(function(){punchgs.TweenLite.set(t.find(".defaultimg"),{autoAlpha:0})},100);var J=d.width,ee=d.height,te=e.find(".slotslide"),ae=0,re=0,ie=1,oe=1,ne=1,se=L/1e3,le=se;"fullwidth"!=d.sliderLayout&&"fullscreen"!=d.sliderLayout||(J=te.width(),ee=te.height()),12==v?ae=J:15==v?ae=0-J:13==v?re=ee:14==v&&(re=0-ee),1==b&&(ie=0),2==b&&(ie=0),3==b&&(se=L/1300),4!=b&&5!=b||(oe=.6),6==b&&(oe=1.4),5!=b&&6!=b||(ne=1.4,ie=0,J=0,ee=0,ae=0,re=0),6==b&&(ne=.6),7==b&&(J=0,ee=0);var de=e.find(".slotslide"),ce=t.find(".slotslide");if(T.add(punchgs.TweenLite.set(s,{zIndex:15}),0),T.add(punchgs.TweenLite.set(n,{zIndex:20}),0),8==b?(T.add(punchgs.TweenLite.set(s,{zIndex:20}),0),T.add(punchgs.TweenLite.set(n,{zIndex:15}),0),T.add(punchgs.TweenLite.set(de,{left:0,top:0,scale:1,opacity:1,rotation:0,ease:j,force3D:"auto"}),0)):T.add(punchgs.TweenLite.from(de,se,{left:ae,top:re,scale:ne,opacity:ie,rotation:d.rotate,ease:j,force3D:"auto"}),0),4!=b&&5!=b||(J=0,ee=0),1!=b)switch(v){case 12:T.add(punchgs.TweenLite.to(ce,le,{left:0-J+"px",force3D:"auto",scale:oe,opacity:ie,rotation:d.rotate,ease:Q}),0);break;case 15:T.add(punchgs.TweenLite.to(ce,le,{left:J+"px",force3D:"auto",scale:oe,opacity:ie,rotation:d.rotate,ease:Q}),0);break;case 13:T.add(punchgs.TweenLite.to(ce,le,{top:0-ee+"px",force3D:"auto",scale:oe,opacity:ie,rotation:d.rotate,ease:Q}),0);break;case 14:T.add(punchgs.TweenLite.to(ce,le,{top:ee+"px",force3D:"auto",scale:oe,opacity:ie,rotation:d.rotate,ease:Q}),0)}}if(16==v){var z=new punchgs.TimelineLite;T.add(punchgs.TweenLite.set(s,{position:"absolute","z-index":20}),0),T.add(punchgs.TweenLite.set(n,{position:"absolute","z-index":15}),0),s.wrapInner('<div class="tp-half-one" style="position:relative; width:100%;height:100%"></div>'),s.find(".tp-half-one").clone(!0).appendTo(s).addClass("tp-half-two"),s.find(".tp-half-two").removeClass("tp-half-one");var J=d.width,ee=d.height;"on"==d.autoHeight&&(ee=l.height()),s.find(".tp-half-one .defaultimg").wrap('<div class="tp-papercut" style="width:'+J+"px;height:"+ee+'px;"></div>'),s.find(".tp-half-two .defaultimg").wrap('<div class="tp-papercut" style="width:'+J+"px;height:"+ee+'px;"></div>'),s.find(".tp-half-two .defaultimg").css({position:"absolute",top:"-50%"}),s.find(".tp-half-two .tp-caption").wrapAll('<div style="position:absolute;top:-50%;left:0px;"></div>'),T.add(punchgs.TweenLite.set(s.find(".tp-half-two"),{width:J,height:ee,overflow:"hidden",zIndex:15,position:"absolute",top:ee/2,left:"0px",transformPerspective:600,transformOrigin:"center bottom"}),0),T.add(punchgs.TweenLite.set(s.find(".tp-half-one"),{width:J,height:ee/2,overflow:"visible",zIndex:10,position:"absolute",top:"0px",left:"0px",transformPerspective:600,transformOrigin:"center top"}),0);var ue=(s.find(".defaultimg"),Math.round(20*Math.random()-10)),me=Math.round(20*Math.random()-10),pe=Math.round(20*Math.random()-10),fe=.4*Math.random()-.2,he=.4*Math.random()-.2,ye=1*Math.random()+1,ge=1*Math.random()+1,ve=.3*Math.random()+.3;T.add(punchgs.TweenLite.set(s.find(".tp-half-one"),{overflow:"hidden"}),0),T.add(punchgs.TweenLite.fromTo(s.find(".tp-half-one"),L/800,{width:J,height:ee/2,position:"absolute",top:"0px",left:"0px",force3D:"auto",transformOrigin:"center top"},{scale:ye,rotation:ue,y:0-ee-ee/4,autoAlpha:0,ease:j}),0),T.add(punchgs.TweenLite.fromTo(s.find(".tp-half-two"),L/800,{width:J,height:ee,overflow:"hidden",position:"absolute",top:ee/2,left:"0px",force3D:"auto",transformOrigin:"center bottom"},{scale:ge,rotation:me,y:ee+ee/4,ease:j,autoAlpha:0,onComplete:function(){punchgs.TweenLite.set(s,{position:"absolute","z-index":15}),punchgs.TweenLite.set(n,{position:"absolute","z-index":20}),s.find(".tp-half-one").length>0&&(s.find(".tp-half-one .defaultimg").unwrap(),s.find(".tp-half-one .slotholder").unwrap()),s.find(".tp-half-two").remove()}}),0),z.add(punchgs.TweenLite.set(e.find(".defaultimg"),{autoAlpha:1}),0),null!=s.html()&&T.add(punchgs.TweenLite.fromTo(n,(L-200)/1e3,{scale:ve,x:d.width/4*fe,y:ee/4*he,rotation:pe,force3D:"auto",transformOrigin:"center center",ease:Q},{autoAlpha:1,scale:1,x:0,y:0,rotation:0}),0),T.add(z,0)}if(17==v&&e.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/800,{opacity:0,rotationY:0,scale:.9,rotationX:-110,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{opacity:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:j,delay:.06*e}),0)}),18==v&&e.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/500,{autoAlpha:0,rotationY:110,scale:.9,rotationX:10,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{autoAlpha:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:j,delay:.06*e}),0)}),19==v||22==v){var z=new punchgs.TimelineLite;T.add(punchgs.TweenLite.set(s,{zIndex:20}),0),T.add(punchgs.TweenLite.set(n,{zIndex:20}),0),setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100);var be=90,ie=1,_e="center center ";1==I&&(be=-90),19==v?(_e=_e+"-"+d.height/2,ie=0):_e+=d.height/2,punchgs.TweenLite.set(l,{transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:600}),e.find(".slotslide").each(function(e){var t=jQuery(this);z.add(punchgs.TweenLite.fromTo(t,L/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",left:0,rotationY:d.rotate,z:10,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:_e,rotationX:be},{left:0,rotationY:0,top:0,z:0,scale:1,force3D:"auto",rotationX:0,delay:50*e/1e3,ease:j}),0),z.add(punchgs.TweenLite.to(t,.1,{autoAlpha:1,delay:50*e/1e3}),0),T.add(z)}),t.find(".slotslide").each(function(e){var t=jQuery(this),a=-90;1==I&&(a=90),z.add(punchgs.TweenLite.fromTo(t,L/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",autoAlpha:1,rotationY:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:_e,rotationX:0},{autoAlpha:1,rotationY:d.rotate,top:0,z:10,scale:1,rotationX:a,delay:50*e/1e3,force3D:"auto",ease:Q}),0),T.add(z)}),T.add(punchgs.TweenLite.set(s,{zIndex:18}),0)}if(20==v){if(setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100),1==I)var we=-d.width,be=80,_e="20% 70% -"+d.height/2;else var we=d.width,be=-80,_e="80% 70% -"+d.height/2;e.find(".slotslide").each(function(e){var t=jQuery(this),a=50*e/1e3;T.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:we,rotationX:40,z:-600,opacity:ie,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:_e,transformStyle:"flat",rotationY:be},{left:0,rotationX:0,opacity:1,top:0,z:0,scale:1,rotationY:0,delay:a,ease:j}),0)}),t.find(".slotslide").each(function(e){var t=jQuery(this),a=50*e/1e3;if(a=e>0?a+L/9e3:0,1!=I)var r=-d.width/2,i=30,o="20% 70% -"+d.height/2;else var r=d.width/2,i=-30,o="80% 70% -"+d.height/2;Q=punchgs.Power2.easeInOut,T.add(punchgs.TweenLite.fromTo(t,L/1e3,{opacity:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:"auto",transformPerspective:600,transformOrigin:o,transformStyle:"flat",rotationY:0},{opacity:1,rotationX:20,top:0,z:-600,left:r,force3D:"auto",rotationY:i,delay:a,ease:Q}),0)})}if(21==v||25==v){setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100);var be=90,we=-d.width,ke=-be;if(1==I)if(25==v){var _e="center top 0";be=d.rotate}else{var _e="left center 0";ke=d.rotate}else if(we=d.width,be=-90,25==v){var _e="center bottom 0";ke=-be,be=d.rotate}else{var _e="right center 0";ke=d.rotate}e.find(".slotslide").each(function(e){var t=jQuery(this),a=L/1.5/3;T.add(punchgs.TweenLite.fromTo(t,2*a/1e3,{left:0,transformStyle:"flat",rotationX:ke,z:0,autoAlpha:0,top:0,scale:1,force3D:"auto",transformPerspective:1200,transformOrigin:_e,rotationY:be},{left:0,rotationX:0,top:0,z:0,autoAlpha:1,scale:1,rotationY:0,force3D:"auto",delay:a/1e3,ease:j}),0)}),1!=I?(we=-d.width,be=90,25==v?(_e="center top 0",ke=-be,be=d.rotate):(_e="left center 0",ke=d.rotate)):(we=d.width,be=-90,25==v?(_e="center bottom 0",ke=-be,be=d.rotate):(_e="right center 0",ke=d.rotate)),t.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/1e3,{
left:0,transformStyle:"flat",rotationX:0,z:0,autoAlpha:1,top:0,scale:1,force3D:"auto",transformPerspective:1200,transformOrigin:_e,rotationY:0},{left:0,rotationX:ke,top:0,z:0,autoAlpha:1,force3D:"auto",scale:1,rotationY:be,ease:Q}),0)})}if(23==v||24==v){setTimeout(function(){t.find(".defaultimg").css({opacity:0})},100);var be=-90,ie=1,xe=0;if(1==I&&(be=90),23==v){var _e="center center -"+d.width/2;ie=0}else var _e="center center "+d.width/2;punchgs.TweenLite.set(l,{transformStyle:"preserve-3d",backfaceVisibility:"hidden",perspective:2500}),e.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:xe,rotationX:d.rotate,force3D:"auto",opacity:ie,top:0,scale:1,transformPerspective:1200,transformOrigin:_e,rotationY:be},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/500,ease:j}),0)}),be=90,1==I&&(be=-90),t.find(".slotslide").each(function(e){var t=jQuery(this);T.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,rotationX:0,top:0,z:0,scale:1,force3D:"auto",transformStyle:"flat",transformPerspective:1200,transformOrigin:_e,rotationY:0},{left:xe,rotationX:d.rotate,top:0,scale:1,rotationY:be,delay:50*e/500,ease:Q}),0),23==v&&T.add(punchgs.TweenLite.fromTo(t,L/2e3,{autoAlpha:1},{autoAlpha:0,delay:50*e/500+L/3e3,ease:Q}),0)})}return T.add(punchgs.TweenLite.set(e.find(".defaultimg"),{autoAlpha:1})),T.add(punchgs.TweenLite.set(e.find(".slot"),{autoAlpha:0})),T.seek(1e5),void 0!=r?T:void jQuery("#divbgholder").data("slidetimeline",T)},removeAllSlots=function(){void 0!=jQuery("#divbgholder").data("slidetimeline")&&(jQuery("#divbgholder").data("slidetimeline").kill(),jQuery("#divbgholder").find(".slot").each(function(){jQuery(this).remove()}))};t.resetSlideAnimations=function(e){removeAllSlots(),slideAnimation();var t=jQuery("#divbgholder").data("slidetimeline"),a=jQuery("#mastertimer-position"),r=a.position().left/100;void 0!=t&&(t.stop(),e&&t.seek(r))}};